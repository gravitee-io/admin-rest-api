{
	"info": {
		"_postman_id": "d1702ffd-cfb0-43fc-969a-00e31af31629",
		"name": "APIs",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Publishing",
			"item": [
				{
					"name": "Not published",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b79d05f3-2fd5-4179-85b9-cd888c39019a",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"API is stopped, private and not published\", function () {",
													"    pm.expect(jsonData.state).to.eql(\"stopped\");",
													"    pm.expect(jsonData.visibility).to.eql(\"private\");",
													"    pm.expect(jsonData.lifecycle_state).to.eql(\"created\");",
													"});",
													"",
													"pm.collectionVariables.set(\"created_api_id\", jsonData.id);",
													"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "2f9513a1-2b92-4e36-a430-7bda24157c08",
												"exec": [
													"var uid = (\"0000\" + (Math.random()*Math.pow(36,8) << 0).toString(36)).slice(-8);",
													"pm.collectionVariables.set(\"random_uid\", uid);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "{{AUTHORIZATION_API1}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"contextPath\": \"/api{{random_uid}}\",\n\t\"description\": \"The API {{random_uid}}\",\n\t\"endpoint\": \"http://api/{{random_uid}}\",\n\t\"name\": \"API {{random_uid}}\",\n\t\"version\": \"{{random_uid}}\"\n}"
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "api1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "api1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "e65dfafc-d9a3-4cbb-bda7-3b5c88bc433c",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "22a91f61-d0b8-42be-965b-8c8d02f750f2",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Anonymous",
							"item": [
								{
									"name": "Get APIs does not contain created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6b9c8970-6d84-486a-9a16-5e78b4714873",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"var apiIds = jsonData.data.map(api => api.id);",
													"",
													"pm.test(\"APIs list must not contains created API\", function () {",
													"    pm.expect(apiIds).to.not.include(pm.collectionVariables.get(\"created_api_id\"));",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "fa78bc4d-fd8d-4ab2-963a-d9bd840e0b07",
												"exec": [
													"pm.test(\"Status code is 404\", function () {",
													"    pm.response.to.have.status(404);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "noauth"
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "4782b0f9-d5ad-45a2-b850-7d10376b598a",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "19214def-3fe8-47e4-9960-0b8ffdd72bec",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Admin",
							"item": [
								{
									"name": "Get APIs does not contain created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a114e033-2457-4880-800f-9d68e4ec80eb",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"var apiIds = jsonData.data.map(api => api.id);",
													"",
													"pm.test(\"APIs list must not contains created API\", function () {",
													"    pm.expect(apiIds).to.not.include(pm.collectionVariables.get(\"created_api_id\"));",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d1340a79-d82c-4522-bc55-8ae300c32bc9",
												"exec": [
													"pm.test(\"Status code is 404\", function () {",
													"    pm.response.to.have.status(404);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "admin",
										"type": "string"
									},
									{
										"key": "username",
										"value": "admin",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "d456887f-0858-4ce5-a35a-e38ef7ae1613",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "8a74ee95-c981-4bd2-8e57-8d6b39dafae5",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Api1",
							"item": [
								{
									"name": "Get APIs unauthorized",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "76602dc1-1cca-46bb-a057-423373bda8ca",
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API unauthorized",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d9b732bc-1e7f-4350-ac21-3a6fea433c9c",
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "api1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "ap1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "a10cf361-3dcd-4791-b048-19308b4c14e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "d9ef9b58-c819-4672-8db6-7fe69c95cc16",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Application1",
							"item": [
								{
									"name": "Get APIs does not contain created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "22b9e81f-b560-4677-a7a5-cd5bdce01da1",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"var apiIds = jsonData.data.map(api => api.id);",
													"",
													"pm.test(\"APIs list must not contains created API\", function () {",
													"    pm.expect(apiIds).to.not.include(pm.collectionVariables.get(\"created_api_id\"));",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "939ff4d8-2d68-4def-b78d-4815efb30e79",
												"exec": [
													"pm.test(\"Status code is 404\", function () {",
													"    pm.response.to.have.status(404);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "application1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "application1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "99a32821-17f2-4faa-9bb5-cdcbe29ae699",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "b183915c-3310-4cee-bc13-87d3d3eb4f0c",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "User",
							"item": [
								{
									"name": "Get APIs does not contain created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c4173727-5954-4bff-9516-f2d1525c5f12",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"var apiIds = jsonData.data.map(api => api.id);",
													"",
													"pm.test(\"APIs list must not contains created API\", function () {",
													"    pm.expect(apiIds).to.not.include(pm.collectionVariables.get(\"created_api_id\"));",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9d6f9d4e-102c-48f9-b4e4-1e6fa7f13080",
												"exec": [
													"pm.test(\"Status code is 404\", function () {",
													"    pm.response.to.have.status(404);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "password",
										"type": "string"
									},
									{
										"key": "username",
										"value": "user",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "cec578a5-97ec-4af6-850f-5248989b19c4",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "e5a49e53-ebf9-43d3-aeea-ad76e0e02e84",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean Up --",
							"item": [
								{
									"name": "Delete created API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4627886e-4f7f-4244-a4c5-f5b01dd02e8c",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "api1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "api1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "061e16c4-18dd-43f6-b4ef-5ecd9a3a04e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "d3aa728b-44db-4011-bd18-7e3b6a56e7d4",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "a72d53ba-b028-40be-8bc0-30b43058a0a2",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "5f2f5340-9f47-4d24-af48-4eb9fb841b93",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Published",
					"item": [
						{
							"name": "--Prepare--",
							"item": [
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c12886ea-d860-4d41-bf4b-a51f5d54b453",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"API is stopped, private and not published\", function () {",
													"    pm.expect(jsonData.state).to.eql(\"stopped\");",
													"    pm.expect(jsonData.visibility).to.eql(\"private\");",
													"    pm.expect(jsonData.lifecycle_state).to.eql(\"created\");",
													"});",
													"",
													"pm.collectionVariables.set(\"created_api_id\", jsonData.id);",
													"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "2b10ecfd-6eb3-4a19-9819-7a968e030402",
												"exec": [
													"var uid = (\"0000\" + (Math.random()*Math.pow(36,8) << 0).toString(36)).slice(-8);",
													"pm.collectionVariables.set(\"random_uid\", uid);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "{{AUTHORIZATION_API1}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"contextPath\": \"/api{{random_uid}}\",\n\t\"description\": \"The API {{random_uid}}\",\n\t\"endpoint\": \"http://api/{{random_uid}}\",\n\t\"name\": \"API {{random_uid}}\",\n\t\"version\": \"{{random_uid}}\"\n}"
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "b0e7e6be-6bbb-4f46-8a64-be47147a07d7",
												"exec": [
													"var jsonData = JSON.parse(pm.collectionVariables.get(\"created_api\"));",
													"jsonData.lifecycle_state = 'published';",
													"",
													"delete jsonData.id;",
													"delete jsonData.state;",
													"delete jsonData.created_at;",
													"delete jsonData.updated_at;",
													"delete jsonData.owner;",
													"delete jsonData.context_path;",
													"delete jsonData.workflow_state;",
													"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "a53878bb-54dd-45f1-845c-ced4737a2187",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"API is stopped, private and published\", function () {",
													"    pm.expect(jsonData.state).to.eql(\"stopped\");",
													"    pm.expect(jsonData.visibility).to.eql(\"private\");",
													"    pm.expect(jsonData.lifecycle_state).to.eql(\"published\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "api1",
													"type": "string"
												},
												{
													"key": "username",
													"value": "api1",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "{{AUTHORIZATION_API1}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{created_api}}"
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "api1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "api1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "a44f2bd8-f27d-418c-94d8-fe1ebebeb5c1",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "20ea1a92-169d-47d0-b0a3-6300e4e696f9",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Anonymous",
							"item": [
								{
									"name": "Get APIs does not contain created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7167eaab-4e25-42a4-965c-bdcffc9a892d",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"var apiIds = jsonData.data.map(api => api.id);",
													"",
													"pm.test(\"APIs list must not contains created API\", function () {",
													"    pm.expect(apiIds).to.not.include(pm.collectionVariables.get(\"created_api_id\"));",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e8a9dab4-5d29-4f2a-a5e5-82a9822833ce",
												"exec": [
													"pm.test(\"Status code is 404\", function () {",
													"    pm.response.to.have.status(404);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "noauth"
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "6a8c6d22-120a-407e-82e6-2a177e203655",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "9fc3f28a-37eb-48d5-8ee3-75bb966ac74c",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Admin",
							"item": [
								{
									"name": "Get APIs does not contain created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "05405ae8-5442-4b49-bbba-41034183783a",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"var apiIds = jsonData.data.map(api => api.id);",
													"",
													"pm.test(\"APIs list must not contains created API\", function () {",
													"    pm.expect(apiIds).to.not.include(pm.collectionVariables.get(\"created_api_id\"));",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "95e83592-a44b-40cb-aa2a-10cd210056a0",
												"exec": [
													"pm.test(\"Status code is 404\", function () {",
													"    pm.response.to.have.status(404);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "admin",
										"type": "string"
									},
									{
										"key": "username",
										"value": "admin",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "72e03912-ad06-44db-855c-4031b8518d87",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "947db9f3-c25d-46a6-816c-72d0cc99aec4",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Api1",
							"item": [
								{
									"name": "Get APIs contains created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2e9cf80d-7fad-49b5-bc9c-ef0cedce2ae1",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"APIs list must contain published API\", function () {",
													"    pm.expect(jsonData.data).to.be.not.empty;",
													"    var apiFromList = jsonData.data.find(api => api.id === pm.collectionVariables.get('created_api_id'));",
													"    pm.expect(apiFromList).to.be.not.null;",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API OK",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5a13da41-2616-408f-8d62-682a19849e92",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"API must exist\", function () {",
													"    pm.expect(jsonData.id).to.eql(pm.collectionVariables.get('created_api_id'));",
													"});",
													"",
													"pm.test(\"API must not be running\", function () {",
													"    pm.expect(jsonData.running).to.be.false;",
													"});",
													"",
													"pm.test(\"API must not be public\", function () {",
													"    pm.expect(jsonData.public).to.be.false;",
													"});",
													"",
													"pm.test(\"API must be published\", function () {",
													"    pm.expect(jsonData.draft).to.be.false;",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "username",
										"value": "api1",
										"type": "string"
									},
									{
										"key": "password",
										"value": "api1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "a4b3e064-a03a-4b90-be19-ecb848e80c54",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "cbff5194-75f8-4eec-aba1-d5c9937c6e19",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Application1",
							"item": [
								{
									"name": "Get APIs does not contain created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bebbda8e-9315-4bdb-a03d-bc845c4df757",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"var apiIds = jsonData.data.map(api => api.id);",
													"",
													"pm.test(\"APIs list must not contains created API\", function () {",
													"    pm.expect(apiIds).to.not.include(pm.collectionVariables.get(\"created_api_id\"));",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e9458ed6-a51e-4f5d-972d-aa08133162ad",
												"exec": [
													"pm.test(\"Status code is 404\", function () {",
													"    pm.response.to.have.status(404);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "application1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "application1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "b429a9f5-9541-4757-b9f7-1574ab10b663",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "1ca23519-1d3a-4d7f-9659-bb744b0beafa",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "User",
							"item": [
								{
									"name": "Get APIs does not contain created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "418e612b-fc50-4899-97f2-db5a049209c5",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"var apiIds = jsonData.data.map(api => api.id);",
													"",
													"pm.test(\"APIs list must not contains created API\", function () {",
													"    pm.expect(apiIds).to.not.include(pm.collectionVariables.get(\"created_api_id\"));",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3d663905-2eae-43cd-a93e-1b3c089a087f",
												"exec": [
													"pm.test(\"Status code is 404\", function () {",
													"    pm.response.to.have.status(404);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "password",
										"type": "string"
									},
									{
										"key": "username",
										"value": "user",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "2a5ef904-bae1-44ed-a482-c390cd677972",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "f863d5d0-e00c-42c4-b4e8-abb933e455e8",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean Up --",
							"item": [
								{
									"name": "Delete created API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5786f978-00dc-4c8b-8f15-0a467688de67",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "api1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "api1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "4a4e3e7f-83dc-437e-8bf5-225c5ce80fa2",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "f78dc2d9-49d1-4a78-a35d-501ea9f7f8b2",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e55ded9d-de37-4247-a4c8-0b75b0b7431b",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "4689c4e7-631d-4b68-b755-95d79676f5e9",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Visibility",
			"item": [
				{
					"name": "Private",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c4a8af3d-3eae-41b6-bb7b-b5d6d1c986c3",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"API is stopped, private and not published\", function () {",
													"    pm.expect(jsonData.state).to.eql(\"stopped\");",
													"    pm.expect(jsonData.visibility).to.eql(\"private\");",
													"    pm.expect(jsonData.lifecycle_state).to.eql(\"created\");",
													"});",
													"",
													"pm.collectionVariables.set(\"created_api_id\", jsonData.id);",
													"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "2da5bd0f-f933-47ba-8703-b96162d65bbc",
												"exec": [
													"var uid = (\"0000\" + (Math.random()*Math.pow(36,8) << 0).toString(36)).slice(-8);",
													"pm.collectionVariables.set(\"random_uid\", uid);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"contextPath\": \"/api{{random_uid}}\",\n\t\"description\": \"The API {{random_uid}}\",\n\t\"endpoint\": \"http://api/{{random_uid}}\",\n\t\"name\": \"API {{random_uid}}\",\n\t\"version\": \"{{random_uid}}\"\n}"
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "a7fecf9b-02c0-4c12-87db-9127bdda6892",
												"exec": [
													"var jsonData = JSON.parse(pm.collectionVariables.get(\"created_api\"));",
													"jsonData.lifecycle_state = 'published';",
													"",
													"delete jsonData.id;",
													"delete jsonData.state;",
													"delete jsonData.created_at;",
													"delete jsonData.updated_at;",
													"delete jsonData.owner;",
													"delete jsonData.context_path;",
													"delete jsonData.workflow_state;",
													"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "d2212908-99cd-4e16-9be4-8601dce8bac0",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"API is stopped, private and published\", function () {",
													"    pm.expect(jsonData.state).to.eql(\"stopped\");",
													"    pm.expect(jsonData.visibility).to.eql(\"private\");",
													"    pm.expect(jsonData.lifecycle_state).to.eql(\"published\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{created_api}}"
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get User member",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "dbefd1fe-62c5-4e7c-a1d3-b7d7e2902a45",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"    ",
													"    var user = pm.response.json().find(user => user.displayName === pm.request.url.query.get(\"q\"));",
													"    pm.collectionVariables.set(\"user_member\", JSON.stringify(user));",
													"    pm.collectionVariables.set(\"user_member_id\", user.id);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "bf9c9d6d-5d0b-4282-8f25-2996924e70d5",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/search/users/?q=user",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"search",
												"users",
												""
											],
											"query": [
												{
													"key": "q",
													"value": "user"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Add member User to API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a86a9d73-526a-4e1d-a7f0-a3776cd4e5de",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "cf0f58e7-b1bf-427e-9af7-a769fa8a728d",
												"exec": [
													"var user = JSON.parse(pm.collectionVariables.get(\"user_member\"));",
													"",
													"pm.variables.set(\"user_id\", user.id);",
													"pm.variables.set(\"user_ref\", user.reference);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "{{AUTHORIZATION_API1}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"id\": \"{{user_id}}\",\n    \"reference\": \"{{user_ref}}\",\n    \"role\": \"USER\"\n}"
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/members",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"members"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "api1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "api1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "5f826189-f420-4183-8a8c-a0c6050c9df6",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "8f1671c6-cae0-49fd-a097-290f6cb10ad2",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Anonymous",
							"item": [
								{
									"name": "Get APIs does not contain created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9ad16677-ce99-44ec-931e-9682899aac5f",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"var apiIds = jsonData.data.map(api => api.id);",
													"",
													"pm.test(\"APIs list must not contains created API\", function () {",
													"    pm.expect(apiIds).to.not.include(pm.collectionVariables.get(\"created_api_id\"));",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a7ee9908-9ee1-4dc4-ae29-d8cb84fb6cbe",
												"exec": [
													"pm.test(\"Status code is 404\", function () {",
													"    pm.response.to.have.status(404);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "noauth"
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "95841c6f-9005-4600-8885-8b7072e79522",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "54e00111-5678-4b05-847c-4a1e74e86ce1",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Admin",
							"item": [
								{
									"name": "Get APIs does not contain created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c688c4e6-b1a3-4aad-9d11-cdc71b4e84e0",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"var apiIds = jsonData.data.map(api => api.id);",
													"",
													"pm.test(\"APIs list must not contains created API\", function () {",
													"    pm.expect(apiIds).to.not.include(pm.collectionVariables.get(\"created_api_id\"));",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "18f65caa-5f0e-49bb-9fd4-0a7d2b5168bd",
												"exec": [
													"pm.test(\"Status code is 404\", function () {",
													"    pm.response.to.have.status(404);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "admin",
										"type": "string"
									},
									{
										"key": "username",
										"value": "admin",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "d8e8475a-d55b-4b7c-afb0-67f17722688e",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "00776b8b-0afd-4a20-bb59-da51d8d05819",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Api1",
							"item": [
								{
									"name": "Get APIs contains created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7e8721ab-3495-4bba-a7d1-81b4c8053fd4",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"APIs list must contain published API\", function () {",
													"    pm.expect(jsonData.data).to.be.not.empty;",
													"    var apiFromList = jsonData.data.find(api => api.id === pm.collectionVariables.get('created_api_id'));",
													"    pm.expect(apiFromList).to.be.not.null;",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API OK",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d2b4870f-370e-4db1-a14c-3b36fcc34e05",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"API must exist\", function () {",
													"    pm.expect(jsonData.id).to.eql(pm.collectionVariables.get('created_api_id'));",
													"});",
													"",
													"pm.test(\"API must not be running\", function () {",
													"    pm.expect(jsonData.running).to.be.false;",
													"});",
													"",
													"pm.test(\"API must not be public\", function () {",
													"    pm.expect(jsonData.public).to.be.false;",
													"});",
													"",
													"pm.test(\"API must be published\", function () {",
													"    pm.expect(jsonData.draft).to.be.false;",
													"});",
													"",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "username",
										"value": "api1",
										"type": "string"
									},
									{
										"key": "password",
										"value": "api1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "2deee243-c5f6-482d-90eb-6333a3c34475",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "f202f130-1c70-4008-ae25-2aa7efe23d80",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Application1",
							"item": [
								{
									"name": "Get APIs does not contain created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "997f23ee-f5fb-423e-8d9c-8b71b1136075",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"var apiIds = jsonData.data.map(api => api.id);",
													"",
													"pm.test(\"APIs list must not contains created API\", function () {",
													"    pm.expect(apiIds).to.not.include(pm.collectionVariables.get(\"created_api_id\"));",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "35ce0f83-eb06-48f8-afb9-0e188e79cb50",
												"exec": [
													"pm.test(\"Status code is 404\", function () {",
													"    pm.response.to.have.status(404);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "application1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "application1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "c2452249-ed12-4974-bb6c-aa502a6c1f1c",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "950b2378-469c-4297-91c6-182b382d4066",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "User",
							"item": [
								{
									"name": "Get APIs contains created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c15cae2b-eccd-4399-b985-eccfe58317cc",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"APIs list must contain published API\", function () {",
													"    pm.expect(jsonData.data).to.be.not.empty;",
													"    var apiFromList = jsonData.data.find(api => api.id === pm.collectionVariables.get('created_api_id'));",
													"    pm.expect(apiFromList).to.be.not.null;",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API ok",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "03d66b99-da47-4337-bec1-f7333aa2d882",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"API must exist\", function () {",
													"    pm.expect(jsonData.id).to.eql(pm.collectionVariables.get('created_api_id'));",
													"});",
													"",
													"pm.test(\"API must not be running\", function () {",
													"    pm.expect(jsonData.running).to.be.false;",
													"});",
													"",
													"pm.test(\"API must not be public\", function () {",
													"    pm.expect(jsonData.public).to.be.false;",
													"});",
													"",
													"pm.test(\"API must be published\", function () {",
													"    pm.expect(jsonData.draft).to.be.false;",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "password",
										"type": "string"
									},
									{
										"key": "username",
										"value": "user",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "98970e23-095f-42c4-8880-e31031425534",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "f88fdee1-9642-41ea-8e4f-8302940b639f",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean Up --",
							"item": [
								{
									"name": "Remove member User from API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "10661670-a9eb-4350-bacd-bb2a53d7eea7",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/members?user={{user_member_id}}",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"members"
											],
											"query": [
												{
													"key": "user",
													"value": "{{user_member_id}}"
												}
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0f7212ce-ba12-4df9-ac68-af17f8391130",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "api1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "api1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "885f90fd-bc9c-4de7-aa9f-8c58d732cd3a",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "68150cde-af31-4e24-a522-0a7476de47e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "c8128583-c9da-4911-9edd-2f97e1d7b69a",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "e19e51e6-835d-4781-8ebf-cf6f61c342c4",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Public",
					"item": [
						{
							"name": "--Prepare--",
							"item": [
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a3c6b802-4938-41c8-8539-d7f969ce28b1",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"API is stopped, private and not published\", function () {",
													"    pm.expect(jsonData.state).to.eql(\"stopped\");",
													"    pm.expect(jsonData.visibility).to.eql(\"private\");",
													"    pm.expect(jsonData.lifecycle_state).to.eql(\"created\");",
													"});",
													"",
													"pm.collectionVariables.set(\"created_api_id\", jsonData.id);",
													"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "0dcafde2-48a5-4e17-a95c-8e4213ff7d00",
												"exec": [
													"var uid = (\"0000\" + (Math.random()*Math.pow(36,8) << 0).toString(36)).slice(-8);",
													"pm.collectionVariables.set(\"random_uid\", uid);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"contextPath\": \"/api{{random_uid}}\",\n\t\"description\": \"The API {{random_uid}}\",\n\t\"endpoint\": \"http://api/{{random_uid}}\",\n\t\"name\": \"API {{random_uid}}\",\n\t\"version\": \"{{random_uid}}\"\n}"
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "f4ebc26e-9f8e-4aff-8249-36c787617f2f",
												"exec": [
													"var jsonData = JSON.parse(pm.collectionVariables.get(\"created_api\"));",
													"jsonData.lifecycle_state = 'published';",
													"",
													"delete jsonData.id;",
													"delete jsonData.state;",
													"delete jsonData.created_at;",
													"delete jsonData.updated_at;",
													"delete jsonData.owner;",
													"delete jsonData.context_path;",
													"delete jsonData.workflow_state;",
													"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "fc056b7c-6f00-4d12-8582-06ff158c7ecd",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"API is stopped, private and published\", function () {",
													"    pm.expect(jsonData.state).to.eql(\"stopped\");",
													"    pm.expect(jsonData.visibility).to.eql(\"private\");",
													"    pm.expect(jsonData.lifecycle_state).to.eql(\"published\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{created_api}}"
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get User member",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "61758e0e-8d64-4dd6-b9df-7d81b02a30aa",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"    ",
													"    var user = pm.response.json().find(user => user.displayName === pm.request.url.query.get(\"q\"));",
													"    pm.collectionVariables.set(\"user_member\", JSON.stringify(user));",
													"    pm.collectionVariables.set(\"user_member_id\", user.id);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c7732652-881a-49bc-a8cc-ca71b50a806e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/search/users/?q=user",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"search",
												"users",
												""
											],
											"query": [
												{
													"key": "q",
													"value": "user"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Add member User to API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c654e335-ac1a-404d-8e41-98a55969eba0",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "808c436f-e579-4f80-9a8a-8e9c0e40b155",
												"exec": [
													"var user = JSON.parse(pm.collectionVariables.get(\"user_member\"));",
													"",
													"pm.variables.set(\"user_id\", user.id);",
													"pm.variables.set(\"user_ref\", user.reference);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "{{AUTHORIZATION_API1}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"id\": \"{{user_id}}\",\n    \"reference\": \"{{user_ref}}\",\n    \"role\": \"USER\"\n}"
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/members",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"members"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Make API public",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "56382d83-32e1-405f-8189-4d7f3da56b9a",
												"exec": [
													"var jsonData = JSON.parse(pm.collectionVariables.get(\"created_api\"));",
													"jsonData.lifecycle_state = 'published';",
													"jsonData.visibility = 'public';",
													"",
													"delete jsonData.id;",
													"delete jsonData.state;",
													"delete jsonData.created_at;",
													"delete jsonData.updated_at;",
													"delete jsonData.owner;",
													"delete jsonData.context_path;",
													"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "6f1e1962-e223-41c4-8a85-a1a5634df624",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"API is stopped, private and published\", function () {",
													"    pm.expect(jsonData.state).to.eql(\"stopped\");",
													"    pm.expect(jsonData.visibility).to.eql(\"public\");",
													"    pm.expect(jsonData.lifecycle_state).to.eql(\"published\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "{{AUTHORIZATION_API1}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{created_api}}"
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "api1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "api1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "c4c7bb3f-e7af-405f-bd3a-37482ff954ee",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "9ea9859c-a34f-4769-9e86-1dc271b26858",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Anonymous",
							"item": [
								{
									"name": "Get APIs contains created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "99527e2a-a1fe-404e-bed1-0c082f04589e",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"APIs list must contain published API\", function () {",
													"    pm.expect(jsonData.data).to.be.not.empty;",
													"    var apiFromList = jsonData.data.find(api => api.id === pm.collectionVariables.get('created_api_id'));",
													"    pm.expect(apiFromList).to.be.not.null;",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API ok",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5871fe29-36f6-4ea2-8259-6f5e1bbf8b83",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"API must exist\", function () {",
													"    pm.expect(jsonData.id).to.eql(pm.collectionVariables.get('created_api_id'));",
													"});",
													"",
													"pm.test(\"API must not be running\", function () {",
													"    pm.expect(jsonData.running).to.be.false;",
													"});",
													"",
													"pm.test(\"API must be public\", function () {",
													"    pm.expect(jsonData.public).to.be.true;",
													"});",
													"",
													"pm.test(\"API must be published\", function () {",
													"    pm.expect(jsonData.draft).to.be.false;",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "noauth"
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "0b3501d4-fb99-4072-9246-f53920f9002e",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "cd06c82d-880b-4cbb-81c2-48a76decffda",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Admin",
							"item": [
								{
									"name": "Get APIs contains created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "fe2b67fb-29da-4967-a568-55184d28dcff",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"APIs list must contain published API\", function () {",
													"    pm.expect(jsonData.data).to.be.not.empty;",
													"    var apiFromList = jsonData.data.find(api => api.id === pm.collectionVariables.get('created_api_id'));",
													"    pm.expect(apiFromList).to.be.not.null;",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API ok",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "93038e0c-1b0f-4b20-9bbb-0d5f0494d0bf",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"API must exist\", function () {",
													"    pm.expect(jsonData.id).to.eql(pm.collectionVariables.get('created_api_id'));",
													"});",
													"",
													"pm.test(\"API must not be running\", function () {",
													"    pm.expect(jsonData.running).to.be.false;",
													"});",
													"",
													"pm.test(\"API must be public\", function () {",
													"    pm.expect(jsonData.public).to.be.true;",
													"});",
													"",
													"pm.test(\"API must be published\", function () {",
													"    pm.expect(jsonData.draft).to.be.false;",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "admin",
										"type": "string"
									},
									{
										"key": "username",
										"value": "admin",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "23914590-740b-4823-b427-789d1dd14b27",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "3510f858-92b1-495c-9521-118041f2c9cb",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Api1",
							"item": [
								{
									"name": "Get APIs unauthorized",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d3c0faba-f948-4cfc-9c0d-611d678af69c",
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API unauthorized",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "30b851bf-e896-4367-94e0-2cc25dad0309",
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "api1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "ap1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "a5ea2e21-4642-4a8e-bced-c5a7bf902f07",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "3ad5fc68-aa94-4c47-afff-66219571514a",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Application1",
							"item": [
								{
									"name": "Get APIs contains created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0202e3a1-f292-4798-a60d-6f2f4b8b446f",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"APIs list must contain published API\", function () {",
													"    pm.expect(jsonData.data).to.be.not.empty;",
													"    var apiFromList = jsonData.data.find(api => api.id === pm.collectionVariables.get('created_api_id'));",
													"    pm.expect(apiFromList).to.be.not.null;",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API ok",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "188716d8-a835-4bb0-99b4-708a920232bb",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"API must exist\", function () {",
													"    pm.expect(jsonData.id).to.eql(pm.collectionVariables.get('created_api_id'));",
													"});",
													"",
													"pm.test(\"API must not be running\", function () {",
													"    pm.expect(jsonData.running).to.be.false;",
													"});",
													"",
													"pm.test(\"API must be public\", function () {",
													"    pm.expect(jsonData.public).to.be.true;",
													"});",
													"",
													"pm.test(\"API must be published\", function () {",
													"    pm.expect(jsonData.draft).to.be.false;",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "application1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "application1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "fb7ab851-d491-4537-93d7-2791845c32a2",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "b18e0ca2-87f2-462f-8e42-4858b949476e",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "User",
							"item": [
								{
									"name": "Get APIs contains created api",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8e5d5fae-4ee4-403d-9149-3543468bbba5",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"APIs list must contain published API\", function () {",
													"    pm.expect(jsonData.data).to.be.not.empty;",
													"    var apiFromList = jsonData.data.find(api => api.id === pm.collectionVariables.get('created_api_id'));",
													"    pm.expect(apiFromList).to.be.not.null;",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get API ok",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ff85bd6f-84c6-4fd6-a2cb-a14cec8be25e",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"",
													"pm.test(\"API must exist\", function () {",
													"    pm.expect(jsonData.id).to.eql(pm.collectionVariables.get('created_api_id'));",
													"});",
													"",
													"pm.test(\"API must not be running\", function () {",
													"    pm.expect(jsonData.running).to.be.false;",
													"});",
													"",
													"pm.test(\"API must be public\", function () {",
													"    pm.expect(jsonData.public).to.be.true;",
													"});",
													"",
													"pm.test(\"API must be published\", function () {",
													"    pm.expect(jsonData.draft).to.be.false;",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Accept",
												"value": "application/json"
											},
											{
												"key": "X-Xsrf-Token",
												"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
											},
											{
												"key": "X-Requested-With",
												"value": "XMLHttpRequest"
											},
											{
												"key": "X-Recaptcha-Token",
												"value": ""
											},
											{
												"key": "User-Agent",
												"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"portal",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "password",
										"type": "string"
									},
									{
										"key": "username",
										"value": "user",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "a9796cf9-a0a3-4d5b-bb6a-167274969192",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "6bb34500-724a-4b18-8b02-6d9a04b0e34e",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean Up --",
							"item": [
								{
									"name": "Remove member User from API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5e67d746-5315-4c2e-ba92-b7a4a7f271b7",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/members?user={{user_member_id}}",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId",
												"members"
											],
											"query": [
												{
													"key": "user",
													"value": "{{user_member_id}}"
												}
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "76115693-c6f2-471e-bfe6-f6d3a1ee9f7c",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"management",
												"organizations",
												"DEFAULT",
												"environments",
												"DEFAULT",
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "api1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "api1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "12fbb835-b827-4508-b6df-0f50d804e420",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "7a7cafb3-425a-4a7d-8c9e-f74348851e3b",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "1c3c8419-9607-4886-9435-c3cd68a1a24c",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "02239fd4-123f-45c1-807b-248cc12d3886",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Quality",
			"item": [
				{
					"name": "-- Prepare --",
					"item": [
						{
							"name": "Enable API review and set weights",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f5e4e75a-7125-432d-8c43-35f34b6d79d4",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"company\": {\n        \"name\": \"Gravitee.io\"\n    },\n    \"management\": {\n        \"title\": \"Gravitee.io Management\",\n        \"url\": \"\"\n    },\n    \"portal\": {\n        \"entrypoint\": \"https://api.company.com\",\n        \"apikeyHeader\": \"X-Gravitee-Api-Key\",\n        \"support\": {\n            \"enabled\": true\n        },\n        \"apis\": {\n            \"tilesMode\": {\n                \"enabled\": true\n            },\n            \"categoryMode\": {\n                \"enabled\": true\n            },\n            \"apiHeaderShowTags\": {\n                \"enabled\": true\n            },\n            \"apiHeaderShowCategories\": {\n                \"enabled\": true\n            }\n        },\n        \"analytics\": {\n            \"enabled\": false\n        },\n        \"rating\": {\n            \"enabled\": false,\n            \"comment\": {\n                \"mandatory\": false\n            }\n        },\n        \"userCreation\": {\n            \"enabled\": true,\n            \"automaticValidation\": {\n                \"enabled\": true\n            }\n        },\n        \"uploadMedia\": {\n            \"enabled\": false,\n            \"maxSizeInOctet\": 1000000\n        }\n    },\n    \"authentication\": {\n        \"forceLogin\": {\n            \"enabled\": false\n        },\n        \"localLogin\": {\n            \"enabled\": true\n        },\n        \"google\": {},\n        \"github\": {},\n        \"oauth2\": {\n            \"color\": \"#0076b4\",\n            \"scope\": []\n        }\n    },\n    \"scheduler\": {\n        \"tasks\": 1000,\n        \"notifications\": 1000\n    },\n    \"documentation\": {\n        \"url\": \"https://docs.gravitee.io\"\n    },\n    \"theme\": {\n        \"name\": \"default\",\n        \"logo\": \"themes/assets/GRAVITEE_LOGO1-01.png\",\n        \"loader\": \"assets/gravitee_logo_anim.gif\"\n    },\n    \"plan\": {\n        \"security\": {\n            \"apikey\": {\n                \"enabled\": true\n            },\n            \"customApiKey\": {\n                \"enabled\": false\n            },\n            \"oauth2\": {\n                \"enabled\": true\n            },\n            \"keyless\": {\n                \"enabled\": true\n            },\n            \"jwt\": {\n                \"enabled\": true\n            }\n        }\n    },\n    \"openAPIDocViewer\": {\n        \"openAPIDocType\": {\n            \"swagger\": {\n                \"enabled\": true\n            },\n            \"redoc\": {\n                \"enabled\": true\n            },\n            \"defaultType\": \"Swagger\"\n        }\n    },\n    \"apiQualityMetrics\": {\n        \"enabled\": true,\n        \"functionalDocumentationWeight\": null,\n        \"technicalDocumentationWeight\": 0,\n        \"descriptionWeight\": 25,\n        \"descriptionMinLength\": 25,\n        \"logoWeight\": 0,\n        \"categoriesWeight\": 0,\n        \"labelsWeight\": 25,\n        \"healthcheckWeight\": 0\n    },\n    \"apiReview\": {\n        \"enabled\": true\n    },\n    \"logging\": {\n        \"maxDurationMillis\": 0,\n        \"audit\": {\n            \"enabled\": false,\n            \"trail\": {\n                \"enabled\": false\n            }\n        },\n        \"user\": {\n            \"displayed\": false\n        }\n    },\n    \"analytics\": {\n        \"clientTimeout\": 30000\n    },\n    \"application\": {\n        \"registration\": {\n            \"enabled\": true\n        },\n        \"types\": {\n            \"simple\": {\n                \"enabled\": true\n            },\n            \"browser\": {\n                \"enabled\": true\n            },\n            \"web\": {\n                \"enabled\": true\n            },\n            \"native\": {\n                \"enabled\": true\n            },\n            \"backend_to_backend\": {\n                \"enabled\": true\n            }\n        }\n    },\n    \"alert\": {\n        \"enabled\": false\n    },\n    \"maintenance\": {\n        \"enabled\": false\n    },\n    \"newsletter\": {\n        \"enabled\": true\n    },\n    \"reCaptcha\": {\n        \"enabled\": false,\n        \"siteKey\": \"\"\n    },\n    \"api\": {\n        \"labelsDictionary\": []\n    },\n    \"cors\": {\n        \"allowOrigin\": [\n            \"*\"\n        ],\n        \"allowHeaders\": [\n            \"Cache-Control\",\n            \"Pragma\",\n            \"Origin\",\n            \"Authorization\",\n            \"Content-Type\",\n            \"X-Requested-With\",\n            \"If-Match\",\n            \"X-Xsrf-Token\",\n            \"X-Recaptcha-Token\"\n        ],\n        \"allowMethods\": [\n            \"OPTIONS\",\n            \"GET\",\n            \"POST\",\n            \"PUT\",\n            \"DELETE\",\n            \"PATCH\"\n        ],\n        \"exposedHeaders\": [\n            \"ETag\",\n            \"X-Xsrf-Token\"\n        ],\n        \"maxAge\": 1728000\n    },\n    \"email\": {\n        \"enabled\": false,\n        \"host\": \"smtp.my.domain\",\n        \"port\": 587,\n        \"username\": \"user@my.domain\",\n        \"password\": \"password\",\n        \"protocol\": \"smtp\",\n        \"subject\": \"[Gravitee.io] %s\",\n        \"from\": \"noreply@my.domain\",\n        \"properties\": {\n            \"auth\": false,\n            \"startTlsEnable\": false\n        }\n    },\n    \"metadata\": {\n        \"readonly\": [\n            \"email.enabled\",\n            \"email.host\",\n            \"email.port\",\n            \"email.username\",\n            \"email.password\",\n            \"email.subject\",\n            \"email.from\"\n        ]\n    },\n    \"baseURL\": \"/management/organizations/DEFAULT/environments/DEFAULT\",\n    \"orgBaseURL\": \"/management/organizations/DEFAULT\",\n    \"envBaseURL\": \"/management/organizations/DEFAULT/environments/DEFAULT\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/portal/",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"portal",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Create a manual rule",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "827f370d-42de-469f-b4bf-92509b642f4d",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"pm.collectionVariables.set(\"created_rule\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_rule_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"description\": \"This is a manual rule to check\",\n    \"name\": \"Postman quality rule\",\n    \"weight\": 50\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/quality-rules/",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"configuration",
										"quality-rules",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Create REVIEWER group",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7b244181-11c9-44e8-a104-4dd7c088a8dd",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"pm.collectionVariables.set(\"created_reviewer_group\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_reviewer_group_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Postman Reviewer\",\n    \"event_rules\": [\n        {\n            \"event\": \"API_CREATE\"\n        }\n    ],\n    \"lock_api_role\": false,\n    \"lock_application_role\": false,\n    \"disable_membership_notifications\": false\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/groups",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"configuration",
										"groups"
									]
								}
							},
							"response": []
						},
						{
							"name": "Associate REVIEWER group to existing APIS",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "552d09f8-2833-49c6-b890-1b6d9aa87ed8",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/groups/:reviewerGroupId/memberships?type=api",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"configuration",
										"groups",
										":reviewerGroupId",
										"memberships"
									],
									"query": [
										{
											"key": "type",
											"value": "api"
										}
									],
									"variable": [
										{
											"key": "reviewerGroupId",
											"value": "{{created_reviewer_group_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get User member",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aa6be595-13f5-4a27-901d-c3a05c5d5571",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"    ",
											"    var user = pm.response.json().find(user => user.displayName === pm.request.url.query.get(\"q\"));",
											"    pm.collectionVariables.set(\"user_member\", JSON.stringify(user));",
											"    pm.collectionVariables.set(\"user_member_reference\", user.reference);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "9f730f35-adf7-4d3a-9869-3b279aea1106",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/search/users/?q=user",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"search",
										"users",
										""
									],
									"query": [
										{
											"key": "q",
											"value": "user"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Add REVIEWER member to group",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9c0e378f-94de-412a-b71b-45762211637c",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a5514cf9-f6bb-453f-a100-db9f2fae3565",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "[\n    {\n        \"reference\": \"{{user_member_reference}}\",\n        \"roles\": [\n            {\n                \"scope\": \"API\",\n                \"name\": \"REVIEWER\"\n            },\n            {\n                \"scope\": \"APPLICATION\",\n                \"name\": \"USER\"\n            }\n        ]\n    }\n]",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/groups/:reviewerGroupId/members",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"configuration",
										"groups",
										":reviewerGroupId",
										"members"
									],
									"variable": [
										{
											"key": "reviewerGroupId",
											"value": "{{created_reviewer_group_id}}"
										}
									]
								},
								"description": "Use a group a reviewer which is not directly linked to the API."
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "admin",
								"type": "string"
							},
							{
								"key": "username",
								"value": "admin",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "12774fb4-7e70-49e2-b370-ea60a96eee4c",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "93a63489-cf89-4f4e-8d56-57ad013a0cf9",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "API publisher asks for review",
					"item": [
						{
							"name": "Import API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fd81175d-3d64-4fb7-b0a3-0aa3892981cb",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"API must not be running\", function () {",
											"    pm.expect(jsonData.state).to.eql(\"stopped\");",
											"});",
											"",
											"pm.test(\"API must be private\", function () {",
											"    pm.expect(jsonData.visibility).to.eql(\"private\");",
											"});",
											"",
											"pm.test(\"API must be draft\", function () {",
											"    pm.expect(jsonData.workflow_state).to.eql(\"draft\");",
											"});",
											"",
											"pm.test(\"API must be created\", function () {",
											"    pm.expect(jsonData.lifecycle_state).to.eql(\"created\");",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_api_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"proxy\": {\n        \"endpoints\": [\n            {\n                \"name\": \"default\",\n                \"target\": \"https://api.gravitee.io/echo\",\n                \"inherit\": true\n            }\n        ],\n        \"context_path\": \"/postman-review\"\n    },\n    \"pages\": [],\n    \"plans\": [],\n    \"tags\": [],\n    \"name\": \"Test Postman\",\n    \"description\": \"This is an API\",\n    \"version\": \"1\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/import",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										"import"
									]
								}
							},
							"response": []
						},
						{
							"name": "Add a label to API",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "45ad87a0-de80-4ea2-ae3a-a6a821a1a518",
										"exec": [
											"var createdApi = JSON.parse(pm.collectionVariables.get('created_api'));",
											"",
											"delete createdApi.id;",
											"delete createdApi.id;",
											"delete createdApi.state;",
											"delete createdApi.created_at;",
											"delete createdApi.updated_at;",
											"delete createdApi.owner;",
											"delete createdApi.context_path;",
											"delete createdApi.workflow_state;",
											"createdApi.labels = [\"quality\"];",
											"",
											"pm.collectionVariables.set('modified_api', JSON.stringify(createdApi));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "2abf5bd8-bfc3-45c6-a2d9-fba6d3afb591",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should contain label\", function () {",
											"    pm.expect(jsonData.labels).to.be.not.empty;",
											"    pm.expect(jsonData.labels).to.include(\"quality\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{{modified_api}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Ask for review",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f821f79a-5a88-4bce-8530-a87fa8164e05",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/reviews?action=ASK",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"reviews"
									],
									"query": [
										{
											"key": "action",
											"value": "ASK"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Cannot start the API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "abfc25e7-74ed-430a-9729-46fcff14a181",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"    pm.expect(pm.response.json().message).to.eql(\"API can not be started without being reviewed\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId?action=START",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId"
									],
									"query": [
										{
											"key": "action",
											"value": "START"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "api1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "api1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "4aa7f583-dea1-457f-9b4e-175c88d8093f",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "820beadc-5089-4c55-979b-679fa6297985",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Reviewer reviews",
					"item": [
						{
							"name": "Should have task to review",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "46ce2af6-6e64-455b-ba93-e8b06b142d0c",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should have one task for reviewing\", function () {",
											"    pm.expect(jsonData.data).to.be.not.empty;",
											"\tvar apiFromList = jsonData.data.find(api => api.data.referenceId === pm.collectionVariables.get('created_api_id'));",
											"    pm.expect(apiFromList.data.type).to.eql(\"REVIEW\");",
											"    pm.expect(apiFromList.data.state).to.eql(\"IN_REVIEW\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/user/tasks",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"user",
										"tasks"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get APIs contains created api with good status",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "237102d6-14ee-4ec1-952a-f569957bfa37",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"APIs list must not empty\", function () {",
											"    pm.expect(jsonData).to.be.not.empty;",
											"    var apiFromList = jsonData.find(api => api.id === pm.collectionVariables.get('created_api_id'));",
											"\tpm.expect(apiFromList).to.be.not.null;",
											"    pm.expect(apiFromList.workflow_state).to.eql(\"in_review\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "X-Xsrf-Token",
										"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
									},
									{
										"key": "X-Requested-With",
										"value": "XMLHttpRequest"
									},
									{
										"key": "X-Recaptcha-Token",
										"value": ""
									},
									{
										"key": "User-Agent",
										"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
									}
								],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get API in review",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ad9e8834-6f91-4944-a1a5-0ae735cd8047",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"API must not be running\", function () {",
											"    pm.expect(jsonData.state).to.eql(\"stopped\");",
											"});",
											"",
											"pm.test(\"API must be private\", function () {",
											"    pm.expect(jsonData.visibility).to.eql(\"private\");",
											"});",
											"",
											"pm.test(\"API must be draft\", function () {",
											"    pm.expect(jsonData.workflow_state).to.eql(\"in_review\");",
											"});",
											"",
											"pm.test(\"API must be created\", function () {",
											"    pm.expect(jsonData.lifecycle_state).to.eql(\"created\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Quality rules",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "39f6c79a-b53d-44e9-9932-1878347861e6",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"There should have quality rule\", function () {",
											"    pm.expect(jsonData).to.be.not.empty;",
											"\tvar ruleFromList = jsonData.find(rule => rule.id === pm.collectionVariables.get('created_rule_id'));",
											"    pm.expect(ruleFromList.weight).to.eql(50);",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/quality-rules",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"configuration",
										"quality-rules"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Quality score",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c0e2385b-acde-46de-acbc-d7454daee63f",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Score should be 25%\", function () {",
											"    pm.expect(jsonData.score).to.eql(0.25);",
											"    pm.expect(jsonData.metrics_passed[\"api.quality.metrics.description.weight\"]).to.eql(false);",
											"    pm.expect(jsonData.metrics_passed[\"api.quality.metrics.labels.weight\"]).to.eql(true);",
											"    pm.expect(jsonData.metrics_passed[pm.collectionVariables.get('created_rule_id')]).to.eql(false);",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/quality",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"quality"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Accept custom rule",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ba1ad580-06bd-4485-8811-9fd4b8856d6b",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Rule should be checked\", function () {",
											"    pm.expect(jsonData.quality_rule).to.eql(pm.collectionVariables.get('created_rule_id'));",
											"    pm.expect(jsonData.checked).to.be.true;",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"api\": \"{{created_api_id}}\",\n    \"quality_rule\": \"{{created_rule_id}}\",\n    \"checked\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/quality-rules/",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"quality-rules",
										""
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Quality score",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "bb0969c8-38b3-4c9e-90d1-a462c6e3c055",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Score should be 25%\", function () {",
											"    pm.expect(jsonData.score).to.eql(0.75);",
											"    pm.expect(jsonData.metrics_passed[\"api.quality.metrics.description.weight\"]).to.eql(false);",
											"    pm.expect(jsonData.metrics_passed[\"api.quality.metrics.labels.weight\"]).to.eql(true);",
											"    pm.expect(jsonData.metrics_passed[pm.collectionVariables.get('created_rule_id')]).to.eql(true);",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/quality",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"quality"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Reject review",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fffb99d0-c8b6-4904-8d92-ac59299722f8",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/reviews?action=REJECT",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"reviews"
									],
									"query": [
										{
											"key": "action",
											"value": "REJECT"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "password",
								"type": "string"
							},
							{
								"key": "username",
								"value": "user",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "240f86de-5318-4ef9-ac59-1a6ecf66c6ba",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "6fd281be-8c0e-4395-9d93-ddac0530f0b0",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "API publisher fix API and asks for review",
					"item": [
						{
							"name": "Should have task to review",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5fc4e537-096b-40c0-8c91-a03be36ccecb",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should have one task for reviewing\", function () {",
											"    pm.expect(jsonData.data).to.be.not.empty;",
											"\tvar apiFromList = jsonData.data.find(api => api.data.referenceId === pm.collectionVariables.get('created_api_id'));",
											"    pm.expect(apiFromList.data.type).to.eql(\"REVIEW\");",
											"    pm.expect(apiFromList.data.state).to.eql(\"REQUEST_FOR_CHANGES\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/user/tasks",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"user",
										"tasks"
									]
								}
							},
							"response": []
						},
						{
							"name": "Add a valid description to API",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "17da6b2d-6fb1-4e68-b48f-cbd81ff2c428",
										"exec": [
											"var createdApi = JSON.parse(pm.collectionVariables.get('modified_api'));",
											"",
											"delete createdApi.id;",
											"delete createdApi.id;",
											"delete createdApi.state;",
											"delete createdApi.created_at;",
											"delete createdApi.updated_at;",
											"delete createdApi.owner;",
											"delete createdApi.context_path;",
											"delete createdApi.workflow_state;",
											"createdApi.description = \"This is a more than 25 characters description\";",
											"",
											"pm.collectionVariables.set('modified_api', JSON.stringify(createdApi));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "23c2b0f2-6b66-484e-80de-b7a2bd18600b",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should contain label\", function () {",
											"    pm.expect(jsonData.labels).to.be.not.empty;",
											"    pm.expect(jsonData.labels).to.include(\"quality\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{{modified_api}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Ask for review",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c4f1abf0-9c49-4272-901b-5211d7931a4f",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/reviews?action=ASK",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"reviews"
									],
									"query": [
										{
											"key": "action",
											"value": "ASK"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Quality score",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8ddea3b4-c463-4ac4-9b8f-f8ee1167ea09",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Score should be 25%\", function () {",
											"    pm.expect(jsonData.score).to.eql(1);",
											"    pm.expect(jsonData.metrics_passed[\"api.quality.metrics.description.weight\"]).to.eql(true);",
											"    pm.expect(jsonData.metrics_passed[\"api.quality.metrics.labels.weight\"]).to.eql(true);",
											"    pm.expect(jsonData.metrics_passed[pm.collectionVariables.get('created_rule_id')]).to.eql(true);",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/quality",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"quality"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Cannot start the API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b505f1fd-27a1-44c5-acf5-d3c8625ab98a",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"    pm.expect(pm.response.json().message).to.eql(\"API can not be started without being reviewed\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId?action=START",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId"
									],
									"query": [
										{
											"key": "action",
											"value": "START"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "api1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "api1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "95cc04e9-e919-451b-bb42-7a743fa53bda",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "2ec92f46-a3aa-4d01-88cb-b5ae31f82be3",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Reviewer reviews",
					"item": [
						{
							"name": "Should have task to review",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "11123e3e-b007-4454-be51-3ec62a831704",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should have one task for reviewing\", function () {",
											"    pm.expect(jsonData.data).to.be.not.empty;",
											"\tvar apiFromList = jsonData.data.find(api => api.data.referenceId === pm.collectionVariables.get('created_api_id'));",
											"    pm.expect(apiFromList.data.type).to.eql(\"REVIEW\");",
											"    pm.expect(apiFromList.data.state).to.eql(\"IN_REVIEW\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/user/tasks",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"user",
										"tasks"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get APIs contains api in review",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b0835e58-98d3-4904-9203-d4b349a05b64",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"APIs list must not empty\", function () {",
											"    pm.expect(jsonData).to.be.not.empty;",
											"    var apiFromList = jsonData.find(api => api.id === pm.collectionVariables.get('created_api_id'));",
											"\tpm.expect(apiFromList).to.be.not.null;",
											"    pm.expect(apiFromList.workflow_state).to.eql(\"in_review\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "X-Xsrf-Token",
										"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
									},
									{
										"key": "X-Requested-With",
										"value": "XMLHttpRequest"
									},
									{
										"key": "X-Recaptcha-Token",
										"value": ""
									},
									{
										"key": "User-Agent",
										"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
									}
								],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get API in review",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8ca96030-96d0-4ff8-8b59-c9bcd8a6a29f",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"API must not be running\", function () {",
											"    pm.expect(jsonData.state).to.eql(\"stopped\");",
											"});",
											"",
											"pm.test(\"API must be private\", function () {",
											"    pm.expect(jsonData.visibility).to.eql(\"private\");",
											"});",
											"",
											"pm.test(\"API must be in review\", function () {",
											"    pm.expect(jsonData.workflow_state).to.eql(\"in_review\");",
											"});",
											"",
											"pm.test(\"API must be created\", function () {",
											"    pm.expect(jsonData.lifecycle_state).to.eql(\"created\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Quality rules",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "da45d40f-3777-4687-a553-f977dd93ab8e",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"There should have quality rule\", function () {",
											"    pm.expect(jsonData).to.be.not.empty;",
											"\tvar ruleFromList = jsonData.find(rule => rule.id === pm.collectionVariables.get('created_rule_id'));",
											"    pm.expect(ruleFromList.weight).to.eql(50);",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/quality-rules",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"configuration",
										"quality-rules"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Quality score",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8714149a-f04c-4f28-a6f6-b1327d9dbeac",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Score should be 25%\", function () {",
											"    pm.expect(jsonData.score).to.eql(1);",
											"    pm.expect(jsonData.metrics_passed[\"api.quality.metrics.description.weight\"]).to.eql(true);",
											"    pm.expect(jsonData.metrics_passed[\"api.quality.metrics.labels.weight\"]).to.eql(true);",
											"    pm.expect(jsonData.metrics_passed[pm.collectionVariables.get('created_rule_id')]).to.eql(true);",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/quality",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"quality"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Accept review",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "28b21610-b795-4b62-a13e-ae938e1d7843",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/reviews?action=ACCEPT",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"reviews"
									],
									"query": [
										{
											"key": "action",
											"value": "ACCEPT"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "password",
								"type": "string"
							},
							{
								"key": "username",
								"value": "user",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "d95ca0b0-2663-4aac-ac11-a958262df110",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "b98a90e4-25d7-4a8b-8128-ad5e479a4e06",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "API publisher can start the API",
					"item": [
						{
							"name": "Get APIs contains api with review ok",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f85066c5-f398-421a-b264-15fe0dadc177",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"APIs list must not empty\", function () {",
											"    pm.expect(jsonData).to.be.not.empty;",
											"    var apiFromList = jsonData.find(api => api.id === pm.collectionVariables.get('created_api_id'));",
											"\tpm.expect(apiFromList).to.be.not.null;",
											"    pm.expect(apiFromList.workflow_state).to.eql(\"review_ok\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									},
									{
										"key": "X-Xsrf-Token",
										"value": "d863d677-df33-4810-a28f-2f1bfe0789b1"
									},
									{
										"key": "X-Requested-With",
										"value": "XMLHttpRequest"
									},
									{
										"key": "X-Recaptcha-Token",
										"value": ""
									},
									{
										"key": "User-Agent",
										"value": "Mozilla/5.0 (Macintosh; Intel Mac OS X 11_0_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36"
									}
								],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get API with review ok",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fd23ec2e-4a72-4898-b371-15bbbf0c42c0",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"API must not be running\", function () {",
											"    pm.expect(jsonData.state).to.eql(\"stopped\");",
											"});",
											"",
											"pm.test(\"API must be private\", function () {",
											"    pm.expect(jsonData.visibility).to.eql(\"private\");",
											"});",
											"",
											"pm.test(\"API review must be ok\", function () {",
											"    pm.expect(jsonData.workflow_state).to.eql(\"review_ok\");",
											"});",
											"",
											"pm.test(\"API must be created\", function () {",
											"    pm.expect(jsonData.lifecycle_state).to.eql(\"created\");",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Quality score",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "05a0af4f-551a-4b3b-a4b0-59217d963adc",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Score should be 25%\", function () {",
											"    pm.expect(jsonData.score).to.eql(1);",
											"    pm.expect(jsonData.metrics_passed[\"api.quality.metrics.description.weight\"]).to.eql(true);",
											"    pm.expect(jsonData.metrics_passed[\"api.quality.metrics.labels.weight\"]).to.eql(true);",
											"    pm.expect(jsonData.metrics_passed[pm.collectionVariables.get('created_rule_id')]).to.eql(true);",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/quality",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"quality"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Start the API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "263c381a-b562-4671-8acc-cd6ffceb184b",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId?action=START",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId"
									],
									"query": [
										{
											"key": "action",
											"value": "START"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "api1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "api1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e2ef600f-1a8a-408e-953f-7f0a0c971387",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "d0406b21-1190-4579-92ba-8d67696772f0",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "-- Clean up --",
					"item": [
						{
							"name": "Stop the API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ada5a8a5-9fbb-4c40-a37a-8bc9db86ea95",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "api1",
											"type": "string"
										},
										{
											"key": "username",
											"value": "api1",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId?action=STOP",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId"
									],
									"query": [
										{
											"key": "action",
											"value": "STOP"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete created API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "435acedc-28db-4f0a-9fdc-7c67487a154e",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "api1",
											"type": "string"
										},
										{
											"key": "username",
											"value": "api1",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Disable API review and reset weights",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6a101b6b-691e-491b-94b5-c93480e52cc9",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"company\": {\n        \"name\": \"Gravitee.io\"\n    },\n    \"management\": {\n        \"title\": \"Gravitee.io Management\",\n        \"url\": \"\"\n    },\n    \"portal\": {\n        \"entrypoint\": \"https://api.company.com\",\n        \"apikeyHeader\": \"X-Gravitee-Api-Key\",\n        \"support\": {\n            \"enabled\": true\n        },\n        \"apis\": {\n            \"tilesMode\": {\n                \"enabled\": true\n            },\n            \"categoryMode\": {\n                \"enabled\": true\n            },\n            \"apiHeaderShowTags\": {\n                \"enabled\": true\n            },\n            \"apiHeaderShowCategories\": {\n                \"enabled\": true\n            }\n        },\n        \"analytics\": {\n            \"enabled\": false\n        },\n        \"rating\": {\n            \"enabled\": false,\n            \"comment\": {\n                \"mandatory\": false\n            }\n        },\n        \"userCreation\": {\n            \"enabled\": true,\n            \"automaticValidation\": {\n                \"enabled\": true\n            }\n        },\n        \"uploadMedia\": {\n            \"enabled\": false,\n            \"maxSizeInOctet\": 1000000\n        }\n    },\n    \"authentication\": {\n        \"forceLogin\": {\n            \"enabled\": false\n        },\n        \"localLogin\": {\n            \"enabled\": true\n        },\n        \"google\": {},\n        \"github\": {},\n        \"oauth2\": {\n            \"color\": \"#0076b4\",\n            \"scope\": []\n        }\n    },\n    \"scheduler\": {\n        \"tasks\": 10,\n        \"notifications\": 10\n    },\n    \"documentation\": {\n        \"url\": \"https://docs.gravitee.io\"\n    },\n    \"theme\": {\n        \"name\": \"default\",\n        \"logo\": \"themes/assets/GRAVITEE_LOGO1-01.png\",\n        \"loader\": \"assets/gravitee_logo_anim.gif\"\n    },\n    \"plan\": {\n        \"security\": {\n            \"apikey\": {\n                \"enabled\": true\n            },\n            \"customApiKey\": {\n                \"enabled\": false\n            },\n            \"oauth2\": {\n                \"enabled\": true\n            },\n            \"keyless\": {\n                \"enabled\": true\n            },\n            \"jwt\": {\n                \"enabled\": true\n            }\n        }\n    },\n    \"openAPIDocViewer\": {\n        \"openAPIDocType\": {\n            \"swagger\": {\n                \"enabled\": true\n            },\n            \"redoc\": {\n                \"enabled\": true\n            },\n            \"defaultType\": \"Swagger\"\n        }\n    },\n    \"apiQualityMetrics\": {\n        \"enabled\": false,\n        \"functionalDocumentationWeight\": null,\n        \"technicalDocumentationWeight\": 0,\n        \"descriptionWeight\": 0,\n        \"descriptionMinLength\": 100,\n        \"logoWeight\": 0,\n        \"categoriesWeight\": 0,\n        \"labelsWeight\": 0,\n        \"healthcheckWeight\": 0\n    },\n    \"apiReview\": {\n        \"enabled\": false\n    },\n    \"logging\": {\n        \"maxDurationMillis\": 0,\n        \"audit\": {\n            \"enabled\": false,\n            \"trail\": {\n                \"enabled\": false\n            }\n        },\n        \"user\": {\n            \"displayed\": false\n        }\n    },\n    \"analytics\": {\n        \"clientTimeout\": 30000\n    },\n    \"application\": {\n        \"registration\": {\n            \"enabled\": true\n        },\n        \"types\": {\n            \"simple\": {\n                \"enabled\": true\n            },\n            \"browser\": {\n                \"enabled\": true\n            },\n            \"web\": {\n                \"enabled\": true\n            },\n            \"native\": {\n                \"enabled\": true\n            },\n            \"backend_to_backend\": {\n                \"enabled\": true\n            }\n        }\n    },\n    \"alert\": {\n        \"enabled\": false\n    },\n    \"maintenance\": {\n        \"enabled\": false\n    },\n    \"newsletter\": {\n        \"enabled\": true\n    },\n    \"reCaptcha\": {\n        \"enabled\": false,\n        \"siteKey\": \"\"\n    },\n    \"api\": {\n        \"labelsDictionary\": []\n    },\n    \"cors\": {\n        \"allowOrigin\": [\n            \"*\"\n        ],\n        \"allowHeaders\": [\n            \"Cache-Control\",\n            \"Pragma\",\n            \"Origin\",\n            \"Authorization\",\n            \"Content-Type\",\n            \"X-Requested-With\",\n            \"If-Match\",\n            \"X-Xsrf-Token\",\n            \"X-Recaptcha-Token\"\n        ],\n        \"allowMethods\": [\n            \"OPTIONS\",\n            \"GET\",\n            \"POST\",\n            \"PUT\",\n            \"DELETE\",\n            \"PATCH\"\n        ],\n        \"exposedHeaders\": [\n            \"ETag\",\n            \"X-Xsrf-Token\"\n        ],\n        \"maxAge\": 1728000\n    },\n    \"email\": {\n        \"enabled\": false,\n        \"host\": \"smtp.my.domain\",\n        \"port\": 587,\n        \"username\": \"user@my.domain\",\n        \"password\": \"password\",\n        \"protocol\": \"smtp\",\n        \"subject\": \"[Gravitee.io] %s\",\n        \"from\": \"noreply@my.domain\",\n        \"properties\": {\n            \"auth\": false,\n            \"startTlsEnable\": false\n        }\n    },\n    \"metadata\": {\n        \"readonly\": [\n            \"email.enabled\",\n            \"email.host\",\n            \"email.port\",\n            \"email.username\",\n            \"email.password\",\n            \"email.subject\",\n            \"email.from\"\n        ]\n    },\n    \"baseURL\": \"/management/organizations/DEFAULT/environments/DEFAULT\",\n    \"orgBaseURL\": \"/management/organizations/DEFAULT\",\n    \"envBaseURL\": \"/management/organizations/DEFAULT/environments/DEFAULT\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/portal/",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"portal",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete manual rule",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0e7edf13-64dd-466c-8fc9-6004197f7157",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/quality-rules/:ruleId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"configuration",
										"quality-rules",
										":ruleId"
									],
									"query": [
										{
											"key": "ruleId",
											"value": null,
											"disabled": true
										}
									],
									"variable": [
										{
											"key": "ruleId",
											"value": "{{created_rule_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete REVIEWER group",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "eaca11f1-60e8-4edf-8494-1efa00727494",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/groups/:reviewerGroupId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"configuration",
										"groups",
										":reviewerGroupId"
									],
									"variable": [
										{
											"key": "reviewerGroupId",
											"value": "{{created_reviewer_group_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "aa12ff8f-c540-4e37-9907-874ff4255bfe",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "02fdb1f3-04ac-4de0-901b-6b8f271893b1",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Rating",
			"item": [
				{
					"name": "-- Prepare --",
					"item": [
						{
							"name": "Disable API rating",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "bb1316aa-70b1-4810-ab33-906039f832d4",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"company\": {\n        \"name\": \"Gravitee.io\"\n    },\n    \"management\": {\n        \"title\": \"Gravitee.io Management\",\n        \"url\": \"\"\n    },\n    \"portal\": {\n        \"entrypoint\": \"https://api.company.com\",\n        \"apikeyHeader\": \"X-Gravitee-Api-Key\",\n        \"support\": {\n            \"enabled\": true\n        },\n        \"apis\": {\n            \"tilesMode\": {\n                \"enabled\": true\n            },\n            \"categoryMode\": {\n                \"enabled\": true\n            },\n            \"apiHeaderShowTags\": {\n                \"enabled\": true\n            },\n            \"apiHeaderShowCategories\": {\n                \"enabled\": true\n            }\n        },\n        \"analytics\": {\n            \"enabled\": false\n        },\n        \"rating\": {\n            \"enabled\": false,\n            \"comment\": {\n                \"mandatory\": false\n            }\n        },\n        \"userCreation\": {\n            \"enabled\": true,\n            \"automaticValidation\": {\n                \"enabled\": true\n            }\n        },\n        \"uploadMedia\": {\n            \"enabled\": false,\n            \"maxSizeInOctet\": 1000000\n        }\n    },\n    \"authentication\": {\n        \"forceLogin\": {\n            \"enabled\": false\n        },\n        \"localLogin\": {\n            \"enabled\": true\n        },\n        \"google\": {},\n        \"github\": {},\n        \"oauth2\": {\n            \"color\": \"#0076b4\",\n            \"scope\": []\n        }\n    },\n    \"scheduler\": {\n        \"tasks\": 10,\n        \"notifications\": 10\n    },\n    \"documentation\": {\n        \"url\": \"https://docs.gravitee.io\"\n    },\n    \"theme\": {\n        \"name\": \"default\",\n        \"logo\": \"themes/assets/GRAVITEE_LOGO1-01.png\",\n        \"loader\": \"assets/gravitee_logo_anim.gif\"\n    },\n    \"plan\": {\n        \"security\": {\n            \"apikey\": {\n                \"enabled\": true\n            },\n            \"customApiKey\": {\n                \"enabled\": false\n            },\n            \"oauth2\": {\n                \"enabled\": true\n            },\n            \"keyless\": {\n                \"enabled\": true\n            },\n            \"jwt\": {\n                \"enabled\": true\n            }\n        }\n    },\n    \"openAPIDocViewer\": {\n        \"openAPIDocType\": {\n            \"swagger\": {\n                \"enabled\": true\n            },\n            \"redoc\": {\n                \"enabled\": true\n            },\n            \"defaultType\": \"Swagger\"\n        }\n    },\n    \"apiQualityMetrics\": {\n        \"enabled\": false,\n        \"functionalDocumentationWeight\": null,\n        \"technicalDocumentationWeight\": 0,\n        \"descriptionWeight\": 0,\n        \"descriptionMinLength\": 100,\n        \"logoWeight\": 0,\n        \"categoriesWeight\": 0,\n        \"labelsWeight\": 0,\n        \"healthcheckWeight\": 0\n    },\n    \"apiReview\": {\n        \"enabled\": false\n    },\n    \"logging\": {\n        \"maxDurationMillis\": 0,\n        \"audit\": {\n            \"enabled\": false,\n            \"trail\": {\n                \"enabled\": false\n            }\n        },\n        \"user\": {\n            \"displayed\": false\n        }\n    },\n    \"analytics\": {\n        \"clientTimeout\": 30000\n    },\n    \"application\": {\n        \"registration\": {\n            \"enabled\": true\n        },\n        \"types\": {\n            \"simple\": {\n                \"enabled\": true\n            },\n            \"browser\": {\n                \"enabled\": true\n            },\n            \"web\": {\n                \"enabled\": true\n            },\n            \"native\": {\n                \"enabled\": true\n            },\n            \"backend_to_backend\": {\n                \"enabled\": true\n            }\n        }\n    },\n    \"alert\": {\n        \"enabled\": false\n    },\n    \"maintenance\": {\n        \"enabled\": false\n    },\n    \"newsletter\": {\n        \"enabled\": true\n    },\n    \"reCaptcha\": {\n        \"enabled\": false,\n        \"siteKey\": \"\"\n    },\n    \"api\": {\n        \"labelsDictionary\": []\n    },\n    \"cors\": {\n        \"allowOrigin\": [\n            \"*\"\n        ],\n        \"allowHeaders\": [\n            \"Cache-Control\",\n            \"Pragma\",\n            \"Origin\",\n            \"Authorization\",\n            \"Content-Type\",\n            \"X-Requested-With\",\n            \"If-Match\",\n            \"X-Xsrf-Token\",\n            \"X-Recaptcha-Token\"\n        ],\n        \"allowMethods\": [\n            \"OPTIONS\",\n            \"GET\",\n            \"POST\",\n            \"PUT\",\n            \"DELETE\",\n            \"PATCH\"\n        ],\n        \"exposedHeaders\": [\n            \"ETag\",\n            \"X-Xsrf-Token\"\n        ],\n        \"maxAge\": 1728000\n    },\n    \"email\": {\n        \"enabled\": false,\n        \"host\": \"smtp.my.domain\",\n        \"port\": 587,\n        \"username\": \"user@my.domain\",\n        \"password\": \"password\",\n        \"protocol\": \"smtp\",\n        \"subject\": \"[Gravitee.io] %s\",\n        \"from\": \"noreply@my.domain\",\n        \"properties\": {\n            \"auth\": false,\n            \"startTlsEnable\": false\n        }\n    },\n    \"metadata\": {\n        \"readonly\": [\n            \"email.enabled\",\n            \"email.host\",\n            \"email.port\",\n            \"email.username\",\n            \"email.password\",\n            \"email.subject\",\n            \"email.from\"\n        ]\n    },\n    \"baseURL\": \"/management/organizations/DEFAULT/environments/DEFAULT\",\n    \"orgBaseURL\": \"/management/organizations/DEFAULT\",\n    \"envBaseURL\": \"/management/organizations/DEFAULT/environments/DEFAULT\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/portal/",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"portal",
										""
									]
								}
							},
							"response": []
						},
						{
							"name": "Import API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c7ba5e1a-5ce0-4930-a4c9-4bfb54adc5c2",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"API must not be running\", function () {",
											"    pm.expect(jsonData.state).to.eql(\"stopped\");",
											"});",
											"",
											"pm.test(\"API must be private\", function () {",
											"    pm.expect(jsonData.visibility).to.eql(\"private\");",
											"});",
											"",
											"pm.test(\"API must be created\", function () {",
											"    pm.expect(jsonData.lifecycle_state).to.eql(\"created\");",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_api_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "8978e9da-f688-44ce-9014-6ad4c806976c",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "api1",
											"type": "string"
										},
										{
											"key": "username",
											"value": "api1",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"proxy\": {\n        \"endpoints\": [\n            {\n                \"name\": \"default\",\n                \"target\": \"https://api.gravitee.io/echo\",\n                \"inherit\": true\n            }\n        ],\n        \"context_path\": \"/postman-rating\"\n    },\n    \"pages\": [],\n    \"plans\": [],\n    \"tags\": [],\n    \"name\": \"Test Postman\",\n    \"description\": \"This is an API\",\n    \"version\": \"1\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/import",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										"import"
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "admin",
								"type": "string"
							},
							{
								"key": "username",
								"value": "admin",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "7b5234fc-6173-4c61-84bb-d6ea9590a5a9",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "677ab3a0-2e3f-43d4-81c5-f0410717e161",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Rate the api",
					"item": [
						{
							"name": "Rate API by api1",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "f7fa2b7d-aeb3-4f1b-8fb6-ef0de4f7919f",
										"exec": [
											"pm.collectionVariables.set(\"api_rate\", Math.round(Math.random() * 4 + 1));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "12c83dd3-7190-4a4a-84e4-9269895ebfa1",
										"exec": [
											"pm.test(\"Status code is 503\", function () {",
											"    pm.response.to.have.status(503);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "{{AUTHORIZATION_API1}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\"rate\": {{api_rate}}}"
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/ratings",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"ratings"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Rate API by admin",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "d0c92f5c-d3b5-429e-8aff-0668a8190dd8",
										"exec": [
											"pm.collectionVariables.set(\"api_rate\", Math.round(Math.random() * 4 + 1));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "43dddd45-8f05-47a2-afe6-c2272f01276a",
										"exec": [
											"pm.test(\"Status code is 503\", function () {",
											"    pm.response.to.have.status(503);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "{{AUTHORIZATION_API1}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\"rate\": {{api_rate}}}"
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/ratings",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"ratings"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Enable rating service",
					"item": [
						{
							"name": "Enable API rating",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8791af3e-96ca-40df-8cda-f531975d55df",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"company\": {\n        \"name\": \"Gravitee.io\"\n    },\n    \"management\": {\n        \"title\": \"Gravitee.io Management\",\n        \"url\": \"\"\n    },\n    \"portal\": {\n        \"entrypoint\": \"https://api.company.com\",\n        \"apikeyHeader\": \"X-Gravitee-Api-Key\",\n        \"support\": {\n            \"enabled\": true\n        },\n        \"apis\": {\n            \"tilesMode\": {\n                \"enabled\": true\n            },\n            \"categoryMode\": {\n                \"enabled\": true\n            },\n            \"apiHeaderShowTags\": {\n                \"enabled\": true\n            },\n            \"apiHeaderShowCategories\": {\n                \"enabled\": true\n            }\n        },\n        \"analytics\": {\n            \"enabled\": false\n        },\n        \"rating\": {\n            \"enabled\": true,\n            \"comment\": {\n                \"mandatory\": false\n            }\n        },\n        \"userCreation\": {\n            \"enabled\": true,\n            \"automaticValidation\": {\n                \"enabled\": true\n            }\n        },\n        \"uploadMedia\": {\n            \"enabled\": false,\n            \"maxSizeInOctet\": 1000000\n        }\n    },\n    \"authentication\": {\n        \"forceLogin\": {\n            \"enabled\": false\n        },\n        \"localLogin\": {\n            \"enabled\": true\n        },\n        \"google\": {},\n        \"github\": {},\n        \"oauth2\": {\n            \"color\": \"#0076b4\",\n            \"scope\": []\n        }\n    },\n    \"scheduler\": {\n        \"tasks\": 10,\n        \"notifications\": 10\n    },\n    \"documentation\": {\n        \"url\": \"https://docs.gravitee.io\"\n    },\n    \"theme\": {\n        \"name\": \"default\",\n        \"logo\": \"themes/assets/GRAVITEE_LOGO1-01.png\",\n        \"loader\": \"assets/gravitee_logo_anim.gif\"\n    },\n    \"plan\": {\n        \"security\": {\n            \"apikey\": {\n                \"enabled\": true\n            },\n            \"customApiKey\": {\n                \"enabled\": false\n            },\n            \"oauth2\": {\n                \"enabled\": true\n            },\n            \"keyless\": {\n                \"enabled\": true\n            },\n            \"jwt\": {\n                \"enabled\": true\n            }\n        }\n    },\n    \"openAPIDocViewer\": {\n        \"openAPIDocType\": {\n            \"swagger\": {\n                \"enabled\": true\n            },\n            \"redoc\": {\n                \"enabled\": true\n            },\n            \"defaultType\": \"Swagger\"\n        }\n    },\n    \"apiQualityMetrics\": {\n        \"enabled\": false,\n        \"functionalDocumentationWeight\": null,\n        \"technicalDocumentationWeight\": 0,\n        \"descriptionWeight\": 0,\n        \"descriptionMinLength\": 100,\n        \"logoWeight\": 0,\n        \"categoriesWeight\": 0,\n        \"labelsWeight\": 0,\n        \"healthcheckWeight\": 0\n    },\n    \"apiReview\": {\n        \"enabled\": false\n    },\n    \"logging\": {\n        \"maxDurationMillis\": 0,\n        \"audit\": {\n            \"enabled\": false,\n            \"trail\": {\n                \"enabled\": false\n            }\n        },\n        \"user\": {\n            \"displayed\": false\n        }\n    },\n    \"analytics\": {\n        \"clientTimeout\": 30000\n    },\n    \"application\": {\n        \"registration\": {\n            \"enabled\": true\n        },\n        \"types\": {\n            \"simple\": {\n                \"enabled\": true\n            },\n            \"browser\": {\n                \"enabled\": true\n            },\n            \"web\": {\n                \"enabled\": true\n            },\n            \"native\": {\n                \"enabled\": true\n            },\n            \"backend_to_backend\": {\n                \"enabled\": true\n            }\n        }\n    },\n    \"alert\": {\n        \"enabled\": false\n    },\n    \"maintenance\": {\n        \"enabled\": false\n    },\n    \"newsletter\": {\n        \"enabled\": true\n    },\n    \"reCaptcha\": {\n        \"enabled\": false,\n        \"siteKey\": \"\"\n    },\n    \"api\": {\n        \"labelsDictionary\": []\n    },\n    \"cors\": {\n        \"allowOrigin\": [\n            \"*\"\n        ],\n        \"allowHeaders\": [\n            \"Cache-Control\",\n            \"Pragma\",\n            \"Origin\",\n            \"Authorization\",\n            \"Content-Type\",\n            \"X-Requested-With\",\n            \"If-Match\",\n            \"X-Xsrf-Token\",\n            \"X-Recaptcha-Token\"\n        ],\n        \"allowMethods\": [\n            \"OPTIONS\",\n            \"GET\",\n            \"POST\",\n            \"PUT\",\n            \"DELETE\",\n            \"PATCH\"\n        ],\n        \"exposedHeaders\": [\n            \"ETag\",\n            \"X-Xsrf-Token\"\n        ],\n        \"maxAge\": 1728000\n    },\n    \"email\": {\n        \"enabled\": false,\n        \"host\": \"smtp.my.domain\",\n        \"port\": 587,\n        \"username\": \"user@my.domain\",\n        \"password\": \"password\",\n        \"protocol\": \"smtp\",\n        \"subject\": \"[Gravitee.io] %s\",\n        \"from\": \"noreply@my.domain\",\n        \"properties\": {\n            \"auth\": false,\n            \"startTlsEnable\": false\n        }\n    },\n    \"metadata\": {\n        \"readonly\": [\n            \"email.enabled\",\n            \"email.host\",\n            \"email.port\",\n            \"email.username\",\n            \"email.password\",\n            \"email.subject\",\n            \"email.from\"\n        ]\n    },\n    \"baseURL\": \"/management/organizations/DEFAULT/environments/DEFAULT\",\n    \"orgBaseURL\": \"/management/organizations/DEFAULT\",\n    \"envBaseURL\": \"/management/organizations/DEFAULT/environments/DEFAULT\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/portal/",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"portal",
										""
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Rate the api",
					"item": [
						{
							"name": "Rate API by api1",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "9c71c9a6-2f6a-454a-b5c6-5b6e1bdd6cdc",
										"exec": [
											"pm.collectionVariables.set(\"api_rate\", Math.round(Math.random() * 4 + 1));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "4b993769-f86e-4611-8058-11ee42c9c8c7",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Rate is good\", function() {",
											"    pm.expect(jsonData.rate).to.eql(pm.collectionVariables.get(\"api_rate\"));",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "{{AUTHORIZATION_API1}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\"rate\": {{api_rate}}}"
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/ratings",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"ratings"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Rate API by admin",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "f0e65701-7ce5-472f-8e4b-228e341eb5c1",
										"exec": [
											"pm.collectionVariables.set(\"api_rate\", Math.round(Math.random() * 4 + 1));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "ac092a34-e043-44e2-9eaf-4473876a7775",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Rate is good\", function() {",
											"    pm.expect(jsonData.rate).to.eql(pm.collectionVariables.get(\"api_rate\"));",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "{{AUTHORIZATION_API1}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\"rate\": {{api_rate}}}"
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/ratings",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"ratings"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Cannot rate API by api1 twice",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "5db18b6c-4ca3-4587-b50f-58ac6240e5df",
										"exec": [
											"pm.collectionVariables.set(\"api_rate\", Math.round(Math.random() * 4 + 1));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "aadb7370-0506-46c9-958d-72a43c26b6a9",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "{{AUTHORIZATION_API1}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\"rate\": {{api_rate}}}"
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/ratings",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"ratings"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Cannot rate API by admin twice",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "01aba54d-16ff-4d43-848b-c0ed8e7b934c",
										"exec": [
											"pm.collectionVariables.set(\"api_rate\", Math.round(Math.random() * 4 + 1));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "7877f39b-3618-4409-ba1c-0d5ef9c47f94",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "{{AUTHORIZATION_API1}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\"rate\": {{api_rate}}}"
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/ratings",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"ratings"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "807ac4cd-5784-44fa-af51-2ffe56710b66",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "6c7fa6a3-7d1a-4da6-bcf4-c01129cb978f",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "-- Clean up --",
					"item": [
						{
							"name": "Delete created API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "98020b90-1ddd-4416-9873-2f4d96101dfb",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "api1",
											"type": "string"
										},
										{
											"key": "username",
											"value": "api1",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Disable API rating",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b39e7d3e-7ce4-40de-a64f-5cbaa3722e3a",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"company\": {\n        \"name\": \"Gravitee.io\"\n    },\n    \"management\": {\n        \"title\": \"Gravitee.io Management\",\n        \"url\": \"\"\n    },\n    \"portal\": {\n        \"entrypoint\": \"https://api.company.com\",\n        \"apikeyHeader\": \"X-Gravitee-Api-Key\",\n        \"support\": {\n            \"enabled\": true\n        },\n        \"apis\": {\n            \"tilesMode\": {\n                \"enabled\": true\n            },\n            \"categoryMode\": {\n                \"enabled\": true\n            },\n            \"apiHeaderShowTags\": {\n                \"enabled\": true\n            },\n            \"apiHeaderShowCategories\": {\n                \"enabled\": true\n            }\n        },\n        \"analytics\": {\n            \"enabled\": false\n        },\n        \"rating\": {\n            \"enabled\": false,\n            \"comment\": {\n                \"mandatory\": false\n            }\n        },\n        \"userCreation\": {\n            \"enabled\": true,\n            \"automaticValidation\": {\n                \"enabled\": true\n            }\n        },\n        \"uploadMedia\": {\n            \"enabled\": false,\n            \"maxSizeInOctet\": 1000000\n        }\n    },\n    \"authentication\": {\n        \"forceLogin\": {\n            \"enabled\": false\n        },\n        \"localLogin\": {\n            \"enabled\": true\n        },\n        \"google\": {},\n        \"github\": {},\n        \"oauth2\": {\n            \"color\": \"#0076b4\",\n            \"scope\": []\n        }\n    },\n    \"scheduler\": {\n        \"tasks\": 10,\n        \"notifications\": 10\n    },\n    \"documentation\": {\n        \"url\": \"https://docs.gravitee.io\"\n    },\n    \"theme\": {\n        \"name\": \"default\",\n        \"logo\": \"themes/assets/GRAVITEE_LOGO1-01.png\",\n        \"loader\": \"assets/gravitee_logo_anim.gif\"\n    },\n    \"plan\": {\n        \"security\": {\n            \"apikey\": {\n                \"enabled\": true\n            },\n            \"customApiKey\": {\n                \"enabled\": false\n            },\n            \"oauth2\": {\n                \"enabled\": true\n            },\n            \"keyless\": {\n                \"enabled\": true\n            },\n            \"jwt\": {\n                \"enabled\": true\n            }\n        }\n    },\n    \"openAPIDocViewer\": {\n        \"openAPIDocType\": {\n            \"swagger\": {\n                \"enabled\": true\n            },\n            \"redoc\": {\n                \"enabled\": true\n            },\n            \"defaultType\": \"Swagger\"\n        }\n    },\n    \"apiQualityMetrics\": {\n        \"enabled\": false,\n        \"functionalDocumentationWeight\": null,\n        \"technicalDocumentationWeight\": 0,\n        \"descriptionWeight\": 0,\n        \"descriptionMinLength\": 100,\n        \"logoWeight\": 0,\n        \"categoriesWeight\": 0,\n        \"labelsWeight\": 0,\n        \"healthcheckWeight\": 0\n    },\n    \"apiReview\": {\n        \"enabled\": false\n    },\n    \"logging\": {\n        \"maxDurationMillis\": 0,\n        \"audit\": {\n            \"enabled\": false,\n            \"trail\": {\n                \"enabled\": false\n            }\n        },\n        \"user\": {\n            \"displayed\": false\n        }\n    },\n    \"analytics\": {\n        \"clientTimeout\": 30000\n    },\n    \"application\": {\n        \"registration\": {\n            \"enabled\": true\n        },\n        \"types\": {\n            \"simple\": {\n                \"enabled\": true\n            },\n            \"browser\": {\n                \"enabled\": true\n            },\n            \"web\": {\n                \"enabled\": true\n            },\n            \"native\": {\n                \"enabled\": true\n            },\n            \"backend_to_backend\": {\n                \"enabled\": true\n            }\n        }\n    },\n    \"alert\": {\n        \"enabled\": false\n    },\n    \"maintenance\": {\n        \"enabled\": false\n    },\n    \"newsletter\": {\n        \"enabled\": true\n    },\n    \"reCaptcha\": {\n        \"enabled\": false,\n        \"siteKey\": \"\"\n    },\n    \"api\": {\n        \"labelsDictionary\": []\n    },\n    \"cors\": {\n        \"allowOrigin\": [\n            \"*\"\n        ],\n        \"allowHeaders\": [\n            \"Cache-Control\",\n            \"Pragma\",\n            \"Origin\",\n            \"Authorization\",\n            \"Content-Type\",\n            \"X-Requested-With\",\n            \"If-Match\",\n            \"X-Xsrf-Token\",\n            \"X-Recaptcha-Token\"\n        ],\n        \"allowMethods\": [\n            \"OPTIONS\",\n            \"GET\",\n            \"POST\",\n            \"PUT\",\n            \"DELETE\",\n            \"PATCH\"\n        ],\n        \"exposedHeaders\": [\n            \"ETag\",\n            \"X-Xsrf-Token\"\n        ],\n        \"maxAge\": 1728000\n    },\n    \"email\": {\n        \"enabled\": false,\n        \"host\": \"smtp.my.domain\",\n        \"port\": 587,\n        \"username\": \"user@my.domain\",\n        \"password\": \"password\",\n        \"protocol\": \"smtp\",\n        \"subject\": \"[Gravitee.io] %s\",\n        \"from\": \"noreply@my.domain\",\n        \"properties\": {\n            \"auth\": false,\n            \"startTlsEnable\": false\n        }\n    },\n    \"metadata\": {\n        \"readonly\": [\n            \"email.enabled\",\n            \"email.host\",\n            \"email.port\",\n            \"email.username\",\n            \"email.password\",\n            \"email.subject\",\n            \"email.from\"\n        ]\n    },\n    \"baseURL\": \"/management/organizations/DEFAULT/environments/DEFAULT\",\n    \"orgBaseURL\": \"/management/organizations/DEFAULT\",\n    \"envBaseURL\": \"/management/organizations/DEFAULT/environments/DEFAULT\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/portal/",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"portal",
										""
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "2efa4e0b-4a4b-4457-8973-ba5a1c156c93",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "2362f5c0-757c-4f07-a69f-0cb494968d68",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "fffe7057-b626-4c12-af13-c59266018e66",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "38f30228-a278-40e4-b91b-59ea43e2ad0e",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Documentation",
			"item": [
				{
					"name": "-- Prepare --",
					"item": [
						{
							"name": "Create READER group",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e9f31ed7-d16a-4126-ab21-8feda9ee20de",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"pm.collectionVariables.set(\"created_reader_group\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_reader_group_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Postman Reader\",\n    \"event_rules\": [\n        {\n            \"event\": \"API_CREATE\"\n        }\n    ],\n    \"lock_api_role\": false,\n    \"lock_application_role\": false,\n    \"disable_membership_notifications\": false\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/groups",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"configuration",
										"groups"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get User member",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2599e156-5c3a-47d0-9e13-4cf18749c5f9",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"    ",
											"    var user = pm.response.json().find(user => user.displayName === pm.request.url.query.get(\"q\"));",
											"    pm.collectionVariables.set(\"user_member\", JSON.stringify(user));",
											"    pm.collectionVariables.set(\"user_member_reference\", user.reference);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "b67a8cc5-1588-4dd6-9a93-b4d24a9773fb",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/search/users/?q=user",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"search",
										"users",
										""
									],
									"query": [
										{
											"key": "q",
											"value": "user"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Add READER member to group",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e605809e-f0df-47f8-a189-dad9097274d1",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "478d8c51-9cb1-4e47-8b07-24b1a1ab41e7",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "[\n    {\n        \"reference\": \"{{user_member_reference}}\",\n        \"roles\": [\n            {\n                \"scope\": \"API\",\n                \"name\": \"USER\"\n            },\n            {\n                \"scope\": \"APPLICATION\",\n                \"name\": \"USER\"\n            }\n        ]\n    }\n]",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/groups/:reviewerGroupId/members",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"configuration",
										"groups",
										":reviewerGroupId",
										"members"
									],
									"variable": [
										{
											"key": "reviewerGroupId",
											"value": "{{created_reader_group_id}}"
										}
									]
								},
								"description": "Use a group a reviewer which is not directly linked to the API."
							},
							"response": []
						},
						{
							"name": "Import API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "84df79b7-04ef-4b22-9c66-1f53c0ffdb81",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"API must not be running\", function () {",
											"    pm.expect(jsonData.state).to.eql(\"stopped\");",
											"});",
											"",
											"pm.test(\"API must be private\", function () {",
											"    pm.expect(jsonData.visibility).to.eql(\"private\");",
											"});",
											"",
											"pm.test(\"API must be created\", function () {",
											"    pm.expect(jsonData.lifecycle_state).to.eql(\"created\");",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_api_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "e9cd5689-3e97-4862-933f-7393f689e6ef",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "api1",
											"type": "string"
										},
										{
											"key": "username",
											"value": "api1",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"proxy\": {\n        \"endpoints\": [\n            {\n                \"name\": \"default\",\n                \"target\": \"https://api.gravitee.io/echo\",\n                \"inherit\": true\n            }\n        ],\n        \"context_path\": \"/postman-documentation\"\n    },\n    \"pages\": [],\n    \"plans\": [],\n    \"tags\": [],\n    \"name\": \"Test Postman\",\n    \"description\": \"This is an API\",\n    \"version\": \"1\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/import",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										"import"
									]
								}
							},
							"response": []
						},
						{
							"name": "Publish API",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "44626b91-2fc0-4408-9e3f-91481580e2db",
										"exec": [
											"var jsonData = JSON.parse(pm.collectionVariables.get(\"created_api\"));",
											"jsonData.lifecycle_state = 'published';",
											"",
											"delete jsonData.id;",
											"delete jsonData.state;",
											"delete jsonData.created_at;",
											"delete jsonData.updated_at;",
											"delete jsonData.owner;",
											"delete jsonData.context_path;",
											"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "9d6472d0-07bc-4df6-bf31-fdfcd9cf7666",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"API is stopped, private and published\", function () {",
											"    pm.expect(jsonData.state).to.eql(\"stopped\");",
											"    pm.expect(jsonData.visibility).to.eql(\"private\");",
											"    pm.expect(jsonData.lifecycle_state).to.eql(\"published\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "api1",
											"type": "string"
										},
										{
											"key": "username",
											"value": "api1",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "{{AUTHORIZATION_API1}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{created_api}}"
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Make API public",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "3859b23c-1b6e-4b46-8358-4cceaf289c6c",
										"exec": [
											"var jsonData = JSON.parse(pm.collectionVariables.get(\"created_api\"));",
											"jsonData.lifecycle_state = 'published';",
											"jsonData.visibility = 'public';",
											"",
											"delete jsonData.id;",
											"delete jsonData.state;",
											"delete jsonData.created_at;",
											"delete jsonData.updated_at;",
											"delete jsonData.owner;",
											"delete jsonData.context_path;",
											"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "40a8627d-4c65-404d-ad7a-4255e945afc2",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"API is stopped, private and published\", function () {",
											"    pm.expect(jsonData.state).to.eql(\"stopped\");",
											"    pm.expect(jsonData.visibility).to.eql(\"public\");",
											"    pm.expect(jsonData.lifecycle_state).to.eql(\"published\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "{{AUTHORIZATION_API1}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{created_api}}"
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "admin",
								"type": "string"
							},
							{
								"key": "username",
								"value": "admin",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "aa07d7f9-0011-43da-990b-9775569ac39a",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "2c8d5455-ae18-4017-bb1e-4488aa27cad9",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Create UNPUBLISHED homepage and page",
					"item": [
						{
							"name": "Create homepage",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "97dc1506-da72-4e97-8755-1e0c60372bd4",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not have parentPath\", function () {",
											"    pm.expect(jsonData.parentPath).to.eql(\"\");",
											"});",
											"",
											"pm.test(\"Should be unpublished\", function () {",
											"    pm.expect(jsonData.published).to.be.false;",
											"});",
											"",
											"",
											"pm.collectionVariables.set(\"created_homepage\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_homepage_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Homepage\",\n    \"type\": \"MARKDOWN\",\n    \"parentId\": \"\",\n    \"content\": \"This is my homepage\",\n    \"homepage\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										""
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Create page",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "74694dff-4c87-46cb-bfc1-afc40fe89cfb",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not have parentPath\", function () {",
											"    pm.expect(jsonData.parentPath).to.eql(\"\");",
											"});",
											"",
											"pm.test(\"Should be unpublished\", function () {",
											"    pm.expect(jsonData.published).to.be.false;",
											"});",
											"",
											"",
											"pm.collectionVariables.set(\"created_page\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_page_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"documentation.md\",\n    \"type\": \"MARKDOWN\",\n    \"parentId\": \"\",\n    \"content\": \"# Here is a documentation file\\n\\nFake documentation\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										""
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "api1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "api1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "478fde17-2d8f-4f45-89dc-65c860e7d161",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "4f0db93b-409f-4061-971a-0fa0f74309a2",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Check documentation on portal",
					"item": [
						{
							"name": "Get homepage empty result",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "400a88d3-77b6-487b-b0b6-391362845015",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should be empty\", function () {",
											"    pm.expect(jsonData.data).to.be.empty;",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages?homepage=true",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages"
									],
									"query": [
										{
											"key": "homepage",
											"value": "true"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get pages empty result",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "cd72f8bc-fbfa-43f6-b0bc-8d0747c63d0e",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should be empty\", function () {",
											"    pm.expect(jsonData.data).to.be.empty;",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages?size=-1&homepage=false",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages"
									],
									"query": [
										{
											"key": "size",
											"value": "-1"
										},
										{
											"key": "homepage",
											"value": "false"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "application1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "application1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "8588188d-75cd-4ae3-aba5-6be1c3f7bd13",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "9a0d3825-1638-471b-8983-45b5c22d22f0",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Publish previous pages",
					"item": [
						{
							"name": "Publish homepage",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "398c716c-0b4b-4d84-8111-e06d88d2a198",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not have parentPath\", function () {",
											"    pm.expect(jsonData.parentPath).to.eql(\"\");",
											"});",
											"",
											"pm.test(\"Should be published\", function () {",
											"    pm.expect(jsonData.published).to.be.true;",
											"});",
											"",
											"",
											"pm.collectionVariables.set(\"created_homepage\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_homepage_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"published\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/:pageId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_homepage_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Publish page",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fea707a9-e0b3-4c72-9f35-e907fc433f23",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not have parentPath\", function () {",
											"    pm.expect(jsonData.parentPath).to.eql(\"\");",
											"});",
											"",
											"pm.test(\"Should be published\", function () {",
											"    pm.expect(jsonData.published).to.be.true;",
											"});",
											"",
											"",
											"pm.collectionVariables.set(\"created_page\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_page_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"published\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/:pageId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_page_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "api1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "api1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "5df6d8d2-0e85-4559-b09b-c6979208a92b",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "47be38de-6e29-42d9-8d89-3e6a81280286",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Check documentation on portal",
					"item": [
						{
							"name": "Get homepage contains created homepage",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2602508a-b6f2-48ca-8b32-f25022db3919",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not be empty\", function () {",
											"    pm.expect(jsonData.data).to.be.not.empty;",
											"});",
											"",
											"var page = jsonData.data.find(page => page.id === pm.collectionVariables.get('created_homepage_id'))",
											"",
											"pm.test(\"Page should be present\", function (){",
											"    pm.expect(page).to.be.not.null;",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages?homepage=true",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages"
									],
									"query": [
										{
											"key": "homepage",
											"value": "true"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get pages contains created page",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ca414cab-2599-4a1f-8dc3-9550c44c72f3",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not be empty\", function () {",
											"    pm.expect(jsonData.data).to.be.not.empty;",
											"});",
											"",
											"var page = jsonData.data.find(page => page.id === pm.collectionVariables.get('created_page_id'))",
											"",
											"pm.test(\"Page should be present\", function (){",
											"    pm.expect(page).to.be.not.null;",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages?size=-1&homepage=false",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages"
									],
									"query": [
										{
											"key": "size",
											"value": "-1"
										},
										{
											"key": "homepage",
											"value": "false"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "application1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "application1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e5c386ce-8be2-44c5-a58c-fc83a259a7d3",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "45414e0f-abea-4309-b47c-686f4620fd82",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Create FOLDER with one page and move one into it",
					"item": [
						{
							"name": "Create folder",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "bce85935-5b6c-4a11-81c2-2ebc974c2fb7",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not have parentPath\", function () {",
											"    pm.expect(jsonData.parentPath).to.eql(\"\");",
											"});",
											"",
											"pm.test(\"Should be unpublished\", function () {",
											"    pm.expect(jsonData.published).to.be.false;",
											"});",
											"",
											"pm.test(\"Should be a folder\", function () {",
											"    pm.expect(jsonData.type).to.eql(\"FOLDER\");",
											"});",
											"",
											"",
											"pm.collectionVariables.set(\"created_folder\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_folder_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Folder\",\n    \"type\": \"FOLDER\",\n    \"parentId\": \"\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										""
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Publish folder",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "5d911469-ac42-40f9-8e61-0a0dee65fd66",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not have parentPath\", function () {",
											"    pm.expect(jsonData.parentPath).to.eql(\"\");",
											"});",
											"",
											"pm.test(\"Should be published\", function () {",
											"    pm.expect(jsonData.published).to.be.true;",
											"});",
											"",
											"",
											"pm.collectionVariables.set(\"created_folder\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_folder_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"published\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/:pageId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_folder_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Create PUBLISHED page inside folder",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7cbc9db4-98bb-4dd5-aa6f-89f691cfde1e",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should have parentId\", function () {",
											"    pm.expect(jsonData.parentId).to.eql(pm.collectionVariables.get(\"created_folder_id\"));",
											"});",
											"",
											"pm.test(\"Should be published\", function () {",
											"    pm.expect(jsonData.published).to.be.true;",
											"});",
											"",
											"pm.test(\"Should be a folder\", function () {",
											"    pm.expect(jsonData.type).to.eql(\"MARKDOWN\");",
											"});",
											"",
											"",
											"pm.collectionVariables.set(\"created_page_inside_folder\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_page_inside_folder_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"In folder page\",\n    \"type\": \"MARKDOWN\",\n    \"parentId\": \"{{created_folder_id}}\",\n    \"content\": \"this page is created directly inside folder\",\n    \"published\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										""
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Create PUBLISHED page outside folder",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1a0b524e-d945-42f3-af36-ba2755f1bf6c",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not have parentPath\", function () {",
											"    pm.expect(jsonData.parentPath).to.eql(\"\");",
											"});",
											"",
											"pm.test(\"Should be published\", function () {",
											"    pm.expect(jsonData.published).to.be.true;",
											"});",
											"",
											"",
											"pm.collectionVariables.set(\"created_page_outside_folder\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_page_outside_folder_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Outside folder\",\n    \"type\": \"MARKDOWN\",\n    \"parentId\": \"\",\n    \"content\": \"This is a page created outside the folder\",\n    \"published\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										""
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Move outside page inside folder",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0b5bf175-9326-4d51-adb7-d8b5fee1c4f6",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should have parentId\", function () {",
											"    pm.expect(jsonData.parentId).to.eql(pm.collectionVariables.get(\"created_folder_id\"));",
											"});",
											"",
											"pm.test(\"Should be published\", function () {",
											"    pm.expect(jsonData.published).to.be.true;",
											"});",
											"",
											"",
											"pm.collectionVariables.set(\"created_page_outside_folder\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_page_outside_folder_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"parentId\": \"{{created_folder_id}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/:pageId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_page_outside_folder_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "api1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "api1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "b5ffc55b-a89c-40bb-ad03-9d67198655d9",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "546e0dca-7c19-4dce-a054-a9f02e072d64",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Check documentation on portal",
					"item": [
						{
							"name": "Get homepage contains created homepage",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3e557efb-68e3-4b5c-8383-08696819ce21",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not be empty\", function () {",
											"    pm.expect(jsonData.data).to.be.not.empty;",
											"});",
											"",
											"var page = jsonData.data.find(page => page.id === pm.collectionVariables.get('created_homepage_id'))",
											"",
											"pm.test(\"Page should be present\", function (){",
											"    pm.expect(page).to.be.not.null;",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages?homepage=true",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages"
									],
									"query": [
										{
											"key": "homepage",
											"value": "true"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get pages contains created pages",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "13c9d7bd-d257-4da1-91ac-34ed5881a884",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not be empty\", function () {",
											"    pm.expect(jsonData.data).to.be.not.empty;",
											"});",
											"",
											"var pageIds = jsonData.data.map(page => page.id);",
											"",
											"pm.test(\"Pages should be present\", function (){",
											"    pm.expect(pageIds).to.have.members([",
											"        pm.collectionVariables.get(\"created_page_id\"),",
											"        pm.collectionVariables.get(\"created_folder_id\"),",
											"        pm.collectionVariables.get(\"created_page_inside_folder_id\"),",
											"        pm.collectionVariables.get(\"created_page_outside_folder_id\"),",
											"    ]);",
											"});",
											"",
											"pm.test(\"Homepage should not be present\", function() {",
											"    pm.expect(pageIds).to.not.include(pm.collectionVariables.get(\"created_homepage_id\"))",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages?size=-1&homepage=false",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages"
									],
									"query": [
										{
											"key": "size",
											"value": "-1"
										},
										{
											"key": "homepage",
											"value": "false"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get page ok",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0920bdd7-b8e0-41b3-a963-4ed21025f605",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"var page = JSON.parse(pm.collectionVariables.get(\"created_page_outside_folder\"));",
											"",
											"pm.test(\"Should have same title\", function () {",
											"    pm.expect(jsonData.name).to.eql(page.name);",
											"});",
											"",
											"pm.test(\"Should have same content\", function () {",
											"    pm.expect(jsonData.content).to.eql(page.content);",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages/:pageId?include=content",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"query": [
										{
											"key": "include",
											"value": "content"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_page_outside_folder_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "application1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "application1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e3b339a6-bb64-409d-8154-f1af7ed8f97b",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "38875808-eefb-49fa-bbc8-0b582c03668e",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Add metadata with templating",
					"item": [
						{
							"name": "Add API state metadata",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6a8cc766-42a6-481f-96f4-d10031162388",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should have key\", function () {",
											"    pm.expect(jsonData.key).to.eql(\"api-state\");",
											"});",
											"",
											"pm.collectionVariables.set(\"created_metadata\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_metadata_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"format\": \"string\",\n    \"name\": \"api-state\",\n    \"value\": \"${api.state}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/metadata",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"metadata"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Create PUBLISHED page using templating",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "296475d7-7979-4b9f-9705-7984fd4bd8c3",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not have parentPath\", function () {",
											"    pm.expect(jsonData.parentPath).to.eql(\"\");",
											"});",
											"",
											"pm.test(\"Should be published\", function () {",
											"    pm.expect(jsonData.published).to.be.true;",
											"});",
											"",
											"pm.test(\"Should contain template string\", function() {",
											"    pm.expect(jsonData.content).to.eql(\"${api.visibility}\\n\\n${api.metadata['api-state']}\");",
											"});",
											"",
											"",
											"pm.collectionVariables.set(\"created_page_metadata\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_page_metadata_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"metadata\",\n    \"type\": \"MARKDOWN\",\n    \"parentId\": \"\",\n    \"content\": \"${api.visibility}\\n\\n${api.metadata['api-state']}\",\n    \"published\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										""
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "api1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "api1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e2eb7e0a-b6be-4434-8ed4-baf1024436f4",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "5b73d656-bba9-4820-8aa7-d319fd258c42",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Check documentation on portal",
					"item": [
						{
							"name": "Get page ok",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "579b84df-6510-4c37-a371-5d04f702175e",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"var page = JSON.parse(pm.collectionVariables.get(\"created_page_metadata\"));",
											"",
											"pm.test(\"Should have same title\", function () {",
											"    pm.expect(jsonData.name).to.eql(page.name);",
											"});",
											"",
											"pm.test(\"Should have interpolated content\", function () {",
											"    pm.expect(jsonData.content).to.eql(\"PUBLIC\\n\\nSTOPPED\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages/:pageId?include=content",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"query": [
										{
											"key": "include",
											"value": "content"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_page_metadata_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "application1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "application1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "b6768551-7ca4-40c8-bdfa-be72da462c6f",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "25d3214d-c471-408b-9355-5e42ff174f29",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Exclude group",
					"item": [
						{
							"name": "READER can get pages",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c3480d46-dbca-4042-8be7-7bd118b116e6",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not be empty\", function () {",
											"    pm.expect(jsonData.data).to.be.not.empty;",
											"});",
											"",
											"var pageIds = jsonData.data.map(page => page.id);",
											"",
											"pm.test(\"Pages should be present\", function (){",
											"    pm.expect(pageIds).to.have.members([",
											"        pm.collectionVariables.get(\"created_page_id\"),",
											"        pm.collectionVariables.get(\"created_folder_id\"),",
											"        pm.collectionVariables.get(\"created_page_inside_folder_id\"),",
											"        pm.collectionVariables.get(\"created_page_outside_folder_id\"),",
											"        pm.collectionVariables.get(\"created_page_metadata_id\")",
											"    ]);",
											"});",
											"",
											"pm.test(\"Homepage should not be present\", function() {",
											"    pm.expect(pageIds).to.not.include(pm.collectionVariables.get(\"created_homepage_id\"))",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "password",
											"type": "string"
										},
										{
											"key": "username",
											"value": "user",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages?size=-1&homepage=false",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages"
									],
									"query": [
										{
											"key": "size",
											"value": "-1"
										},
										{
											"key": "homepage",
											"value": "false"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "READER can get page",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "773ce9bf-3ace-411a-8b51-861d0f451d39",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"var page = JSON.parse(pm.collectionVariables.get(\"created_page\"));",
											"",
											"pm.test(\"Should have same title\", function () {",
											"    pm.expect(jsonData.name).to.eql(page.name);",
											"});",
											"",
											"pm.test(\"Should have same content\", function () {",
											"    pm.expect(jsonData.content).to.eql(page.content);",
											"});",
											"",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "password",
											"type": "string"
										},
										{
											"key": "username",
											"value": "user",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages/:pageId?include=content",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"query": [
										{
											"key": "include",
											"value": "content"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_page_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Exclude READER group",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "dac21bc3-d019-4ac2-8651-8bd74a71c4b8",
										"exec": [
											"var page = JSON.parse(pm.collectionVariables.get(\"created_page\"));",
											"",
											"delete page.id;",
											"delete page.type;",
											"delete page.lastModificationDate;",
											"delete page.contentType;",
											"delete page.parentPath;",
											"delete page.messages;",
											"delete page.api;",
											"",
											"page.excluded_groups = [pm.collectionVariables.get(\"created_reader_group_id\")];",
											"",
											"pm.collectionVariables.set(\"created_page\", JSON.stringify(page));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "23fb6170-84b8-41b0-b870-d2d34a45689c",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var page = pm.response.json();",
											"",
											"pm.test(\"Should have excluded group\", function() {",
											"    pm.expect(page.excluded_groups).to.have.members([pm.collectionVariables.get(\"created_reader_group_id\")]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{{created_page}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/:pageId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_page_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "READER cannot get pages",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aa606708-f4a6-4d42-9faa-2d88b6d71623",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not be empty\", function () {",
											"    pm.expect(jsonData.data).to.be.not.empty;",
											"});",
											"",
											"var pageIds = jsonData.data.map(page => page.id);",
											"",
											"pm.test(\"Pages should be present\", function (){",
											"    pm.expect(pageIds).to.have.members([",
											"        pm.collectionVariables.get(\"created_folder_id\"),",
											"        pm.collectionVariables.get(\"created_page_inside_folder_id\"),",
											"        pm.collectionVariables.get(\"created_page_outside_folder_id\"),",
											"        pm.collectionVariables.get(\"created_page_metadata_id\")",
											"    ]);",
											"});",
											"",
											"pm.test(\"Homepage should not be present\", function() {",
											"    pm.expect(pageIds).to.not.include(pm.collectionVariables.get(\"created_homepage_id\"))",
											"});",
											"",
											"pm.test(\"Excluded page should not be present\", function() {",
											"    pm.expect(pageIds).to.not.include(pm.collectionVariables.get(\"created_page_id\"))",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "password",
											"type": "string"
										},
										{
											"key": "username",
											"value": "user",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages?size=-1&homepage=false",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages"
									],
									"query": [
										{
											"key": "size",
											"value": "-1"
										},
										{
											"key": "homepage",
											"value": "false"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "READER cannot get page",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ae0c2b55-d66d-435d-b44d-3ee1b1ceecc4",
										"exec": [
											"pm.test(\"Status code is 401\", function () {",
											"    pm.response.to.have.status(401);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "password",
											"type": "string"
										},
										{
											"key": "username",
											"value": "user",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages/:pageId?include=content",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"query": [
										{
											"key": "include",
											"value": "content"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_page_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "api1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "api1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "b341d06a-fbe9-4e35-ad9e-f87bd164a8d2",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3a2972f8-df6e-44c9-b7c7-d19d75c63121",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Translate",
					"item": [
						{
							"name": "Translate page",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8935297f-e2f7-40b0-ba43-72e901320baf",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"var page = pm.response.json();",
											"",
											"pm.test(\"Type is translation\", function() {",
											"    pm.expect(page.type).to.eql(\"TRANSLATION\");",
											"});",
											"",
											"pm.test(\"Should be published\", function() {",
											"    pm.expect(page.published).to.be.true;",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"type\": \"TRANSLATION\",\n    \"parentId\": \"{{created_page_id}}\",\n    \"configuration\": {\n        \"inheritContent\": \"false\",\n        \"lang\": \"fr\"\n    },\n    \"name\": \"Fausse documentation\",\n    \"content\": \"Fausse documentation\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										""
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "api1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "api1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "0cacfce4-4847-406d-a8b7-b3f40ebb86f4",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "a87adad5-bd3f-4c74-942b-76f469bcf4f0",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Check documentation on portal",
					"item": [
						{
							"name": "Get pages contains pages with translation",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "66be4a19-aab6-4454-8ec8-8e0b6471af87",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not be empty\", function () {",
											"    pm.expect(jsonData.data).to.be.not.empty;",
											"});",
											"",
											"var pageIds = jsonData.data.map(page => page.id);",
											"",
											"pm.test(\"Pages should be present\", function (){",
											"    pm.expect(pageIds).to.have.members([",
											"        pm.collectionVariables.get(\"created_page_id\"),",
											"        pm.collectionVariables.get(\"created_folder_id\"),",
											"        pm.collectionVariables.get(\"created_page_inside_folder_id\"),",
											"        pm.collectionVariables.get(\"created_page_outside_folder_id\"),",
											"        pm.collectionVariables.get(\"created_page_metadata_id\")",
											"    ]);",
											"});",
											"",
											"pm.test(\"Homepage should not be present\", function() {",
											"    pm.expect(pageIds).to.not.include(pm.collectionVariables.get(\"created_homepage_id\"));",
											"});",
											"",
											"var translatedPage = jsonData.data.find(page => page.id === pm.collectionVariables.get(\"created_page_id\"));",
											"",
											"pm.test(\"Page should be translated\", function() {",
											"    pm.expect(translatedPage.name).to.eql(\"Fausse documentation\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept-Language",
										"value": "fr-FR,fr;q=0.9",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages?size=-1&homepage=false",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages"
									],
									"query": [
										{
											"key": "size",
											"value": "-1"
										},
										{
											"key": "homepage",
											"value": "false"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get page translated",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "43524dd0-5bdd-4478-b5e5-eadb48bdfd51",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should have same title\", function () {",
											"    pm.expect(jsonData.name).to.eql(\"Fausse documentation\");",
											"});",
											"",
											"pm.test(\"Should have interpolated content\", function () {",
											"    pm.expect(jsonData.content).to.eql(\"Fausse documentation\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept-Language",
										"value": "fr-FR,fr;q=0.9",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages/:pageId?include=content",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"query": [
										{
											"key": "include",
											"value": "content"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_page_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "application1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "application1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "f16a96fc-84b8-4fa0-af29-5d6a69c3666d",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "023d87e0-73bd-411b-b8e0-e26c88fb0727",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Aside links",
					"item": [
						{
							"name": "Get pages contains aside folder",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fe0147bc-81f0-404d-9c2d-8ff9f26e583b",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not be empty\", function () {",
											"    pm.expect(jsonData).to.be.not.empty;",
											"});",
											"",
											"var page = jsonData.find(page => page.name === \"Aside\" && page.type === \"SYSTEM_FOLDER\")",
											"",
											"pm.test(\"Page should be present\", function (){",
											"    pm.expect(page).to.be.not.undefined;",
											"});",
											"",
											"pm.collectionVariables.set(\"aside_id\", page.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/?type=SYSTEM_FOLDER",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										""
									],
									"query": [
										{
											"key": "type",
											"value": "SYSTEM_FOLDER"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Add aside link to existing page",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6fe1d22e-94ec-44fc-bdfb-dffb47f4708f",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"var page = pm.response.json();",
											"",
											"pm.test(\"Type is translation\", function() {",
											"    pm.expect(page.type).to.eql(\"LINK\");",
											"});",
											"",
											"pm.test(\"Should be published\", function() {",
											"    pm.expect(page.published).to.be.true;",
											"});",
											"",
											"pm.test(\"Should have parent path Aside\", function() {",
											"    pm.expect(page.parentPath).to.eql(\"/Aside\");",
											"});",
											"",
											"pm.collectionVariables.set(\"created_link\", JSON.stringify(page));",
											"pm.collectionVariables.set(\"created_link_id\", page.id);",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "4b0fc59c-28e2-483c-a498-afa963b6970c",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Linked page\",\n    \"type\": \"LINK\",\n    \"parentId\": \"{{aside_id}}\",\n    \"configuration\": {\n        \"resourceType\": \"page\",\n        \"inherit\": \"false\",\n        \"isFolder\": false\n    },\n    \"content\": \"{{created_page_id}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										""
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "api1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "api1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "5f00af67-4bf3-44d9-88d0-7546d907ab7f",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "5b3f95ca-a37c-4d37-a182-d15d2b188413",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Check documentation on portal",
					"item": [
						{
							"name": "Get links from aside",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "8277e3b7-d827-4a10-a54c-c1d1415237ca",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"var createdLink = JSON.parse(pm.collectionVariables.get(\"created_link\"));",
											"",
											"var link = jsonData.slots.aside[0].links.find(link => link.name === createdLink.name);",
											"",
											"pm.test(\"Should have page reference\", function () {",
											"    pm.expect(link.resourceRef).to.eql(pm.collectionVariables.get(\"created_page_id\"));",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Accept-Language",
										"type": "text",
										"value": "fr-FR,fr;q=0.9"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/links",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"links"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "application1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "application1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "98207c2d-c255-4c26-94c5-4122bb685a3c",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "31f9ce11-560d-470f-9c83-7fcb4b4c3b44",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "-- Clean up --",
					"item": [
						{
							"name": "Delete metadata page",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b2a2ef5b-45cb-411c-bc1c-647588670853",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/:pageId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_page_metadata_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete page outside folder",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4541b0b1-6b1d-4aef-aa87-edfdf1ba0418",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/:pageId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_page_outside_folder_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete page inside folder",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "558f4b0c-eb21-4143-a743-78f81d5a62a7",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/:pageId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_page_inside_folder_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete folder",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0503740b-2cb0-466b-9105-cfc9bd813568",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/:pageId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_folder_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete link",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b4bd258a-fa37-42a4-a414-9adc7b5e8e47",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/:pageId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_link_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete page",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "557bce82-7f57-4c08-8887-fe3772c098be",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/:pageId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_page_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete homepage",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d90b96b3-3339-4a39-a89a-0343fd5c26b7",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/pages/:pageId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages",
										":pageId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "pageId",
											"value": "{{created_homepage_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete READER group",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f1984003-0d09-4b3f-b76d-ce33a616cef0",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/groups/:reviewerGroupId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"configuration",
										"groups",
										":reviewerGroupId"
									],
									"variable": [
										{
											"key": "reviewerGroupId",
											"value": "{{created_reader_group_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get pages",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e160c90f-8278-434b-bfa2-c8042f0e9c88",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should be empty\", function () {",
											"    pm.expect(jsonData.data).to.be.empty;",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/pages?size=-1&homepage=false",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"pages"
									],
									"query": [
										{
											"key": "size",
											"value": "-1"
										},
										{
											"key": "homepage",
											"value": "false"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete created API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d0a392ba-7551-402c-9fed-8f9b1ff88aa3",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "api1",
											"type": "string"
										},
										{
											"key": "username",
											"value": "api1",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "api1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "api1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "b73e0281-b034-42e3-afbe-b98e151b6a20",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "97cecb05-1e7d-4b0a-a6a1-a6cc137ad4fb",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Plans",
			"item": [
				{
					"name": "--Prepare--",
					"item": [
						{
							"name": "Create API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d54b95c6-9ac0-49a0-b5fd-24102464d9a5",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"API is stopped, private and not published\", function () {",
											"    pm.expect(jsonData.state).to.eql(\"stopped\");",
											"    pm.expect(jsonData.visibility).to.eql(\"private\");",
											"    pm.expect(jsonData.lifecycle_state).to.eql(\"created\");",
											"});",
											"",
											"pm.collectionVariables.set(\"created_api_id\", jsonData.id);",
											"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "636722d3-7aaf-4f79-bb0a-e754cf9dc103",
										"exec": [
											"var uid = (\"0000\" + (Math.random()*Math.pow(36,8) << 0).toString(36)).slice(-8);",
											"pm.collectionVariables.set(\"random_uid\", uid);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "{{AUTHORIZATION_API1}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"contextPath\": \"/api{{random_uid}}\",\n\t\"description\": \"The API {{random_uid}}\",\n\t\"endpoint\": \"http://api/{{random_uid}}\",\n\t\"name\": \"API {{random_uid}}\",\n\t\"version\": \"{{random_uid}}\"\n}"
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis"
									]
								}
							},
							"response": []
						},
						{
							"name": "Publish API",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "19e1e9b9-4440-452a-ad6a-6c3a05af03f4",
										"exec": [
											"var jsonData = JSON.parse(pm.collectionVariables.get(\"created_api\"));",
											"jsonData.lifecycle_state = 'published';",
											"jsonData.visibility = 'public';",
											"",
											"delete jsonData.id;",
											"delete jsonData.state;",
											"delete jsonData.created_at;",
											"delete jsonData.updated_at;",
											"delete jsonData.owner;",
											"delete jsonData.context_path;",
											"delete jsonData.workflow_state;",
											"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "0a11f030-656e-4037-8f42-9f3c97be1102",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"API is stopped, private and published\", function () {",
											"    pm.expect(jsonData.state).to.eql(\"stopped\");",
											"    pm.expect(jsonData.visibility).to.eql(\"public\");",
											"    pm.expect(jsonData.lifecycle_state).to.eql(\"published\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "api1",
											"type": "string"
										},
										{
											"key": "username",
											"value": "api1",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "{{AUTHORIZATION_API1}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{{created_api}}"
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Create EXCLUDED group",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2f67eca5-4fd4-4b99-9cbd-bd85030d1d64",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"pm.collectionVariables.set(\"created_excluded_group\", JSON.stringify(jsonData));",
											"pm.collectionVariables.set(\"created_excluded_group_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Postman Excluded\",\n    \"event_rules\": [\n        {\n            \"event\": \"API_CREATE\"\n        }\n    ],\n    \"lock_api_role\": false,\n    \"lock_application_role\": false,\n    \"disable_membership_notifications\": false\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/groups",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"configuration",
										"groups"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get User member",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9b19d57f-3906-4bbb-8f12-5761da38d5d7",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"    ",
											"    var user = pm.response.json().find(user => user.displayName === pm.request.url.query.get(\"q\"));",
											"    pm.collectionVariables.set(\"user_member\", JSON.stringify(user));",
											"    pm.collectionVariables.set(\"user_member_reference\", user.reference);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a375d73b-e8a2-4c3b-b6d8-fd7542ff9f6a",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/search/users/?q=user",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"search",
										"users",
										""
									],
									"query": [
										{
											"key": "q",
											"value": "user"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Add EXCLUDED member to group",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "cbc5981a-6eb9-4a36-a12c-76324b79d1a1",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "6e78a0a3-42fb-41d3-b765-e0a535536c96",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "[\n    {\n        \"reference\": \"{{user_member_reference}}\",\n        \"roles\": [\n            {\n                \"scope\": \"API\",\n                \"name\": \"REVIEWER\"\n            },\n            {\n                \"scope\": \"APPLICATION\",\n                \"name\": \"USER\"\n            }\n        ]\n    }\n]",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/groups/:excludedGroupId/members",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"configuration",
										"groups",
										":excludedGroupId",
										"members"
									],
									"variable": [
										{
											"key": "excludedGroupId",
											"value": "{{created_excluded_group_id}}"
										}
									]
								},
								"description": "Use a group a reviewer which is not directly linked to the API."
							},
							"response": []
						},
						{
							"name": "Create Application for subscription",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6483ac9f-9f7f-404a-b8e9-631ffaa7fbf0",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"pm.collectionVariables.set(\"created_application_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "application1",
											"type": "string"
										},
										{
											"key": "username",
											"value": "application1",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"name\":\"application\",\n\t\"description\":\"Application for 'Plans scenario'\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/applications",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"applications"
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "api1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "api1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "d8bb3eec-74ed-47c4-bb36-68b1329b37e0",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "a44076a0-664e-44f7-a0ab-5e60c3dacb10",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Check on portal",
					"item": [
						{
							"name": "Get plans empty result",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a9f005a4-a214-4813-891c-1ca40594c011",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json().data;",
											"",
											"pm.test(\"Plans array should be empty\", function() {",
											"    pm.expect(jsonData).to.be.empty;",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/plans",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"plans"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "application1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "application1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "cb801afb-55fd-4c7a-ac62-c90e37835fdc",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "66a076e4-8ecc-462f-a1e6-e00602134de9",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Create Plan",
					"item": [
						{
							"name": "Create Plan for subscription",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4bea4b31-b418-4a99-96bf-f99f47712e8d",
										"exec": [
											"pm.test(\"Status code is 201\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"pm.collectionVariables.set(\"created_plan_id\", jsonData.id);",
											"pm.collectionVariables.set(\"created_plan\", JSON.stringify(jsonData));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "api1",
											"type": "string"
										},
										{
											"key": "password",
											"value": "api1",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"name\":\"Plan to test\",\n\t\"description\": \"a plan for Plans Scenario\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"plans"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "api1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "api1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "8b3caffa-8b6c-4c78-a8de-c9a67bfcfb9e",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "7656a90c-ca57-4a32-a51c-bd6b3dbb3f7d",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Check on portal",
					"item": [
						{
							"name": "Get plans empty result",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ad173111-0f2d-4540-9c03-96e8ca31c52b",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json().data;",
											"",
											"pm.test(\"Plans array should be empty\", function() {",
											"    pm.expect(jsonData).to.be.empty;",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/plans",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"plans"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get plan not found",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fc43fb87-bd46-43c5-98eb-1f636db4760e",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/plans/:planId",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"plans",
										":planId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "planId",
											"value": "{{created_plan_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "application1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "application1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "4ad3d316-c277-4ac0-9cd2-17748c7c9a7e",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "cf5ee3a6-6b9a-4758-893a-1b18b8e2cb66",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Publish plan",
					"item": [
						{
							"name": "Publish created Plan",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b9057990-c0be-4d0b-a196-587d90a210b9",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Plan should be published\", function () {",
											"    pm.expect(jsonData.status).to.eql(\"published\");",
											"})"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "username",
											"value": "api1",
											"type": "string"
										},
										{
											"key": "password",
											"value": "api1",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans/:planId/_publish",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"plans",
										":planId",
										"_publish"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "planId",
											"value": "{{created_plan_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Create and Accept subscription",
					"item": [
						{
							"name": "Create Subscription",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f3cb285a-02d5-4f50-8b14-596262717570",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"pm.collectionVariables.set(\"created_subscription_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "c0a75b7d-ce9f-46e0-9a59-1d4e165f4994",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "application1",
											"type": "string"
										},
										{
											"key": "username",
											"value": "application1",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"application\":\"{{created_application_id}}\",\n\t\"plan\":\"{{created_plan_id}}\",\n\t\"request\":\"for Plans scenario\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/subscriptions",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"subscriptions"
									]
								}
							},
							"response": []
						},
						{
							"name": "Accept Subscription",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9d2b07fd-ccd3-4e2a-b826-9e1e727cd235",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"pm.collectionVariables.set(\"created_subscription_id\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "5d821761-3b47-48b7-b2fd-f075de9edfb7",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "api1",
											"type": "string"
										},
										{
											"key": "username",
											"value": "api1",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"customApiKey\": null,\n    \"accepted\": true\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/subscriptions/:subscriptionId/_process",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"subscriptions",
										":subscriptionId",
										"_process"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "subscriptionId",
											"value": "{{created_subscription_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Check on portal",
					"item": [
						{
							"name": "Get plans contains created plan",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e11b34a3-c8e0-4cf4-95fe-0020ddd834f1",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json().data;",
											"",
											"pm.test(\"Plans array should not be empty\", function() {",
											"    pm.expect(jsonData).to.not.be.empty;",
											"});",
											"",
											"pm.test(\"Plans array should contain created plan\", function() {",
											"    var plan = jsonData.find(plan => plan.id === pm.collectionVariables.get('created_plan_id'));",
											"    pm.expect(plan).to.not.be.null;",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/plans",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"plans"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get plan not found",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "df0c61fe-6249-44b9-8eb4-49d47ad69ccb",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/plans/:planId",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"plans",
										":planId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "planId",
											"value": "{{created_plan_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "application1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "application1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "db60e3fd-e159-4ad9-adb0-79a207e2ed7c",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "352071be-7c4f-457a-92e3-54ae0874d57c",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Exclude group",
					"item": [
						{
							"name": "EXCLUDED can get plans",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "29e9f764-62d5-4106-b989-440a02c826d0",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should not be empty\", function () {",
											"    pm.expect(jsonData.data).to.be.not.empty;",
											"});",
											"",
											"var planIds = jsonData.data.map(plan => plan.id);",
											"",
											"pm.test(\"Plan should be present\", function (){",
											"    pm.expect(planIds).to.have.members([",
											"        pm.collectionVariables.get(\"created_plan_id\")",
											"    ]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "password",
											"type": "string"
										},
										{
											"key": "username",
											"value": "user",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/plans",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"plans"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Exclude EXCLUDED group",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "fb7a361c-00b9-470b-829d-6073e46e283a",
										"exec": [
											"var plan = JSON.parse(pm.collectionVariables.get(\"created_plan\"));",
											"",
											"",
											"delete plan.security;",
											"delete plan.type;",
											"delete plan.status;",
											"delete plan.api;",
											"delete plan.created_at;",
											"delete plan.updated_at;",
											"delete plan.flows;",
											"",
											"plan.order = 1;",
											"plan.excluded_groups = [pm.collectionVariables.get(\"created_excluded_group_id\")];",
											"",
											"pm.collectionVariables.set(\"created_plan\", JSON.stringify(plan));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "5411d18f-17e5-4459-b08a-0b2c5830463a",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var plan = pm.response.json();",
											"",
											"pm.test(\"Should have excluded group\", function() {",
											"    pm.expect(plan.excluded_groups).to.have.members([pm.collectionVariables.get(\"created_excluded_group_id\")]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{{created_plan}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans/:planId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"plans",
										":planId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "planId",
											"value": "{{created_plan_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "EXCLUDED cannot get plans",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "777e7726-f1f5-43ff-bc94-fe47b481f9d4",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Should be empty\", function () {",
											"    pm.expect(jsonData.data).to.be.empty;",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "password",
											"type": "string"
										},
										{
											"key": "username",
											"value": "user",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/plans",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"plans"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "api1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "api1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "4f9dc608-0ab4-4c3d-96b8-dbd24ddb2b71",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "5e55e026-b2b1-4e53-8079-55ceabcc3fa5",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Deprecate plan",
					"item": [
						{
							"name": "Deprecate plan",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "aeda2f46-9075-4302-ae24-59e2ca60762a",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var plan = pm.response.json();",
											"",
											"pm.test(\"Plan should be deprecated\", function() {",
											"    pm.expect(plan.status).to.eql(\"deprecated\");",
											"});",
											"",
											"pm.collectionVariables.set(\"created_plan\", JSON.stringify(plan));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "api1",
											"type": "string"
										},
										{
											"key": "username",
											"value": "api1",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans/:planId/_deprecate",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"plans",
										":planId",
										"_deprecate"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "planId",
											"value": "{{created_plan_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Check on portal",
					"item": [
						{
							"name": "Get plans empty result",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ce9e6f0c-22b7-4854-899f-993e40d70b51",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json().data;",
											"",
											"pm.test(\"Plans array should be empty\", function() {",
											"    pm.expect(jsonData).to.be.empty;",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/plans",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"plans"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get plan not found",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fc7422f7-4f91-45e7-8d1f-dfd8595ed6fe",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/plans/:planId",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"plans",
										":planId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "planId",
											"value": "{{created_plan_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "application1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "application1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "80cc561e-3b6a-4352-a916-284ddb938688",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "2f6805a1-1e09-4969-b8cc-d166950357a3",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Close plan",
					"item": [
						{
							"name": "Get associated subscription",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "21641428-0c6c-48f1-a09f-598956c10b5f",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json().data;",
											"",
											"pm.test(\"Should not be empty\", function() {",
											"    pm.expect(jsonData).to.not.be.empty;",
											"});",
											"",
											"var subscription = jsonData.find(sub => sub.id === pm.collectionVariables.get(\"created_subscription_id\"));",
											"",
											"pm.test(\"Should have right subscription\", function() {",
											"    pm.expect(subscription).to.be.not.null;",
											"    pm.expect(subscription.api).to.eql(pm.collectionVariables.get(\"created_api_id\"));",
											"    pm.expect(subscription.application).to.eql(pm.collectionVariables.get(\"created_application_id\"));",
											"    pm.expect(subscription.plan).to.eql(pm.collectionVariables.get(\"created_plan_id\"));",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/subscriptions?plan={{created_plan_id}}&status=accepted,pending,rejected,closed",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"subscriptions"
									],
									"query": [
										{
											"key": "plan",
											"value": "{{created_plan_id}}"
										},
										{
											"key": "status",
											"value": "accepted,pending,rejected,closed"
										}
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Close plan",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "58a20e73-722a-42ee-8386-74cfb0270737",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var plan = pm.response.json();",
											"",
											"pm.test(\"Plan should be deprecated\", function() {",
											"    pm.expect(plan.status).to.eql(\"closed\");",
											"});",
											"",
											"pm.collectionVariables.set(\"created_plan\", JSON.stringify(plan));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "api1",
											"type": "string"
										},
										{
											"key": "username",
											"value": "api1",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId/plans/:planId/_close",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"plans",
										":planId",
										"_close"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "planId",
											"value": "{{created_plan_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "api1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "api1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "9b648479-4bd5-4343-b287-d5b720a05c78",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "cb529e1b-76a1-4bdb-9adf-f7d928ca2945",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Check on portal",
					"item": [
						{
							"name": "Get plans empty result",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e8fc9b2b-87ac-4db1-99db-ce355f19fdb6",
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"var jsonData = pm.response.json().data;",
											"",
											"pm.test(\"Plans array should be empty\", function() {",
											"    pm.expect(jsonData).to.be.empty;",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/plans",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"plans"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get plan not found",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "beaeda11-c92b-4650-ab28-14acb9369f73",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/portal/environments/DEFAULT/apis/:apiId/plans/:planId",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"portal",
										"environments",
										"DEFAULT",
										"apis",
										":apiId",
										"plans",
										":planId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										},
										{
											"key": "planId",
											"value": "{{created_plan_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "application1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "application1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "518d5fed-1a6f-4d2b-9106-1cc06c99a191",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "3e6c77b7-e3d3-4e9b-8baa-6cdf98ddffaf",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "-- Clean Up --",
					"item": [
						{
							"name": "Delete application",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "0fe278d4-28c8-4e93-8fcf-a7bb720caf41",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "application1",
											"type": "string"
										},
										{
											"key": "username",
											"value": "application1",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/applications/:applicationId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"applications",
										":applicationId"
									],
									"variable": [
										{
											"key": "applicationId",
											"value": "{{created_application_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete created API",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "885484be-c961-44a6-a89b-bf6b4ebc7a57",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/apis/:apiId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"apis",
										":apiId"
									],
									"variable": [
										{
											"key": "apiId",
											"value": "{{created_api_id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete EXCLUDED group",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "74ce154b-19e4-4ddc-85fb-a0ca9caddb5e",
										"exec": [
											"pm.test(\"Status code is 204\", function () {",
											"    pm.response.to.have.status(204);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "admin",
											"type": "string"
										},
										{
											"key": "username",
											"value": "admin",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_MGMT_URL}}/management/organizations/DEFAULT/environments/DEFAULT/configuration/groups/:excludedGroupId",
									"host": [
										"{{GRAVITEEIO_MGMT_URL}}"
									],
									"path": [
										"management",
										"organizations",
										"DEFAULT",
										"environments",
										"DEFAULT",
										"configuration",
										"groups",
										":excludedGroupId"
									],
									"variable": [
										{
											"key": "excludedGroupId",
											"value": "{{created_excluded_group_id}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "api1",
								"type": "string"
							},
							{
								"key": "username",
								"value": "api1",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "ffe4df86-afaf-46a8-ab79-ac6f833efb5f",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "a465d92b-9ae2-4b43-9a6d-49e23542b963",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"variable": [
		{
			"id": "bbc2af24-b542-473d-9446-b5c8accab34f",
			"key": "RANDOM_NUMBER",
			"value": ""
		},
		{
			"id": "dc5e46ae-c2f3-4a75-b1e0-22054707e2a6",
			"key": "API",
			"value": ""
		},
		{
			"id": "0b3b2e90-02d9-4ecb-9cc3-98b026b92c2a",
			"key": "API_ID",
			"value": ""
		},
		{
			"id": "72069b55-864c-45f5-9325-f88ae5f1eeb7",
			"key": "random_uid",
			"value": ""
		},
		{
			"id": "3c29cabe-3f7d-4c7b-a070-09983339e80e",
			"key": "created_api_id",
			"value": ""
		},
		{
			"id": "be3bf005-0576-4a0d-b83b-6c12ee3de5fe",
			"key": "user_member",
			"value": ""
		},
		{
			"id": "3b3067ec-db91-4bad-bf78-a57d0b3d5351",
			"key": "user_member_id",
			"value": ""
		},
		{
			"id": "312412ec-4b16-46e6-8f51-bfaa683f2d78",
			"key": "user_member_reference",
			"value": ""
		},
		{
			"id": "2b3d10f8-6014-454c-9f5e-05e7589d37da",
			"key": "created_rule",
			"value": ""
		},
		{
			"id": "06d51d5b-38d1-4c37-bda8-fc73b0bcaca4",
			"key": "created_rule_id",
			"value": ""
		},
		{
			"id": "d1f8a563-7881-4639-877b-5e7f0cf5b9d4",
			"key": "created_reviewer_group",
			"value": ""
		},
		{
			"id": "b2c03c1e-ff89-44e6-b332-719c1bb9107c",
			"key": "created_reviewer_group_id",
			"value": ""
		},
		{
			"id": "8251c29b-b9ba-4f46-aa95-4e51ba5b271d",
			"key": "modified_api",
			"value": ""
		},
		{
			"id": "19404bb0-32ab-4d07-ad0e-3edd64fad4c3",
			"key": "created_reader_group",
			"value": ""
		},
		{
			"id": "1cc06580-c44a-4127-adb0-4ad69409aab0",
			"key": "created_reader_group_id",
			"value": ""
		},
		{
			"id": "77bf1b72-9eaf-4bcd-bed9-9bb87f21ba94",
			"key": "created_page_outside_folder",
			"value": ""
		},
		{
			"id": "93ceda49-efb1-475a-a29e-a55eb4d43e6a",
			"key": "created_page_outside_folder_id",
			"value": ""
		},
		{
			"id": "22741645-4839-4c78-9742-4dcaf440dc79",
			"key": "created_homepage",
			"value": ""
		},
		{
			"id": "4ba21d8e-0977-4ffa-80cc-0935eb11a6d3",
			"key": "created_homepage_id",
			"value": ""
		},
		{
			"id": "a22d3221-c072-4d77-97d8-915be868f3fc",
			"key": "created_page",
			"value": ""
		},
		{
			"id": "aa1167c8-950e-4fd5-8861-62c5e261e071",
			"key": "created_page_id",
			"value": ""
		},
		{
			"id": "5f788595-bd00-4103-b0ae-0469f9c4e489",
			"key": "created_folder",
			"value": ""
		},
		{
			"id": "2b780e95-4cea-48f2-b2ea-80b1c050724e",
			"key": "created_folder_id",
			"value": ""
		},
		{
			"id": "2015bf0d-1ba7-4f01-a080-f19a909a17d7",
			"key": "created_page_inside_folder",
			"value": ""
		},
		{
			"id": "62d6247c-4d74-45ea-bc23-1c1d1570da0b",
			"key": "created_page_inside_folder_id",
			"value": ""
		},
		{
			"id": "e502e740-31c3-4d91-8932-0758100119fa",
			"key": "created_metadata",
			"value": ""
		},
		{
			"id": "f589e928-a0dc-4507-979b-0eb5125dd62b",
			"key": "created_metadata_id",
			"value": ""
		},
		{
			"id": "0cdb4673-010f-4755-8504-9780c06762d2",
			"key": "created_page_metadata",
			"value": ""
		},
		{
			"id": "8ad70400-9991-4a39-b671-36c733cdabfc",
			"key": "created_page_metadata_id",
			"value": ""
		},
		{
			"id": "ef1ac784-c4dc-4b78-b4fc-513ad0c2a10d",
			"key": "created_resource",
			"value": ""
		},
		{
			"id": "c29e9981-e677-4f4a-9c27-c026ae14bd52",
			"key": "created_resource_id",
			"value": ""
		},
		{
			"id": "f416e228-805f-416b-a76a-ad0d42c0995e",
			"key": "aside_id",
			"value": ""
		},
		{
			"id": "50edcbd3-0040-4476-8c65-c00ffe6b3622",
			"key": "created_link",
			"value": ""
		},
		{
			"id": "c512d4c7-a44d-4a91-a3b8-2cdd6d679946",
			"key": "created_link_id",
			"value": ""
		},
		{
			"id": "1770dc16-a98e-4826-9f68-c8b9e93758ea",
			"key": "api_rate",
			"value": ""
		},
		{
			"id": "f96ed3ae-8bac-4290-ba78-06088b763ede",
			"key": "created_api",
			"value": ""
		}
	],
	"protocolProfileBehavior": {}
}